<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Wang Language - v0.24.1</title><meta name="description" content="Documentation for Wang Language"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">Wang Language - v0.24.1</a><div id="tsd-toolbar-links"><a href="https://github.com/artpar/wang">GitHub</a><a href="https://www.npmjs.com/package/wang-lang">NPM</a><a href="https://artpar.github.io/wang/playground.html">üéÆ Playground</a></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>Wang Language - v0.24.1</h1></div><div class="tsd-panel tsd-typography"><h1 id="wang-lang" class="tsd-anchor-link">wang-lang<a href="#wang-lang" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>A CSP-safe workflow programming language for browser automation, designed to run in Chrome service workers and other restricted JavaScript environments.</p>
<p>üöÄ <strong><a href="https://artpar.github.io/wang/playground.html">Try it in the browser playground!</a></strong></p>
<p><a href="https://github.com/artpar/wang/actions/workflows/ci.yml"><img src="https://github.com/artpar/wang/actions/workflows/ci.yml/badge.svg" alt="CI/CD Pipeline"></a>
<a href="https://www.npmjs.com/package/wang-lang"><img src="https://img.shields.io/npm/v/wang-lang.svg" alt="npm version"></a>
<a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a>
<a href="https://www.typescriptlang.org/"><img src="https://img.shields.io/badge/TypeScript-Ready-blue.svg" alt="TypeScript"></a>
<a href="https://artpar.github.io/wang"><img src="https://img.shields.io/badge/docs-GitHub%20Pages-blue" alt="Documentation"></a>
<a href="https://artpar.github.io/wang/playground.html"><img src="https://img.shields.io/badge/Try-Playground-green" alt="Playground"></a></p>
<h2 id="features" class="tsd-anchor-link">Features<a href="#features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>‚úÖ <strong>100% CSP-Safe</strong> - No <code>eval()</code> or <code>new Function()</code>, runs safely in Chrome service workers</li>
<li>üéØ <strong>Zero Ambiguity Grammar</strong> - Deterministic parsing with exactly one parse tree for valid syntax</li>
<li>üì¶ <strong>Modern JavaScript-like Syntax</strong> - Full support for classes, modules, async/await, destructuring</li>
<li>üîå <strong>Pluggable Module System</strong> - Implement your own module resolution (memory, IndexedDB, HTTP, etc.)</li>
<li>üìç <strong>Enhanced Error Reporting (v0.16.1+)</strong> - Full context with line numbers, stack traces, module names, and intelligent suggestions</li>
<li>üåê <strong>Browser Automation Focus</strong> - Built for DOM manipulation and web workflows</li>
<li>üöÄ <strong>JavaScript Method Chaining</strong> - Full support for method chaining, functional programming patterns, and multiline expressions</li>
<li>‚ú® <strong>Full Class Support</strong> - Classes with constructors, methods, <strong>inheritance with super()</strong>, and proper <code>this</code> binding</li>
<li>üîí <strong>Robust Variable Scoping</strong> - Const immutability, var hoisting, block scoping with proper shadowing</li>
<li>‚ôªÔ∏è <strong>Circular Dependency Support</strong> - Handles circular module imports without memory leaks</li>
<li>üìä <strong>Execution Metadata API</strong> - Comprehensive compilation and runtime metadata for debugging and analysis</li>
<li>üîÑ <strong>Implicit Return Values</strong> - Last expression in code becomes the return value, perfect for REPL and workflows</li>
<li>‚ùì <strong>Ternary Conditional Operator</strong> - Full support for <code>condition ? true : false</code> expressions</li>
<li>üß™ <strong>Fully Tested</strong> - Comprehensive test suite using Vitest (757/757 tests passing - 100% coverage)</li>
<li>üìö <strong>Rich Standard Library</strong> - 70+ built-in functions for arrays, objects, strings, math, and utilities</li>
<li>‚ûï <strong>Compound Assignment</strong> - Modern operators (<code>+=</code>, <code>-=</code>, <code>*=</code>, <code>/=</code>) with zero-ambiguity grammar</li>
<li>üîç <strong>Regular Expression Support</strong> - Full regex literals with all JavaScript flags (<code>/pattern/gimsuy</code>)</li>
<li>‚è∏Ô∏è <strong>Pausable Execution</strong> - Pause and resume interpreter execution at any point</li>
<li>üíæ <strong>State Serialization</strong> - Save and restore complete interpreter state to/from JSON</li>
<li>üî§ <strong>Reserved Keywords as Properties</strong> - Use reserved words like <code>from</code>, <code>import</code>, <code>class</code> as property names (JavaScript-compatible)</li>
<li>üìù <strong>Console Capture</strong> - Capture all console.log, warn, and error outputs with metadata (v0.12.0+)</li>
<li>üìê <strong>Multi-line Function Calls</strong> - Support for multi-line function calls and parameters for better readability (v0.15.14+)</li>
<li>üìù <strong>Template Literals</strong> - Full support for template strings with expression interpolation <code>`Hello, ${name}!`</code></li>
<li>üé® <strong>Syntax Highlighting</strong> - Language support for Monaco Editor, VS Code, and CodeMirror</li>
</ul>
<h2 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">wang-lang</span>
</code><button type="button">Copy</button></pre>

<h2 id="cli-usage" class="tsd-anchor-link">CLI Usage<a href="#cli-usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Wang provides command-line tools for validating and executing <code>.wang</code> files:</p>
<h3 id="execute-wang-files" class="tsd-anchor-link">Execute Wang Files<a href="#execute-wang-files" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-3"># Execute a .wang file</span><br/><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">wang-run</span><span class="hl-1"> </span><span class="hl-2">script.wang</span><br/><br/><span class="hl-3"># Execute with verbose output</span><br/><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">wang-run</span><span class="hl-1"> </span><span class="hl-2">script.wang</span><span class="hl-1"> </span><span class="hl-4">--verbose</span><br/><br/><span class="hl-3"># Execute from stdin</span><br/><span class="hl-0">echo</span><span class="hl-1"> </span><span class="hl-2">&#39;console.log(&quot;Hello Wang!&quot;)&#39;</span><span class="hl-1"> | </span><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">wang-run</span><span class="hl-1"> </span><span class="hl-2">-</span><br/><br/><span class="hl-3"># Quiet mode (only show output)</span><br/><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">wang-run</span><span class="hl-1"> </span><span class="hl-2">script.wang</span><span class="hl-1"> </span><span class="hl-4">--quiet</span>
</code><button type="button">Copy</button></pre>

<h3 id="validate-wang-syntax" class="tsd-anchor-link">Validate Wang Syntax<a href="#validate-wang-syntax" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-3"># Validate syntax</span><br/><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">wang-validate</span><span class="hl-1"> </span><span class="hl-2">script.wang</span><br/><br/><span class="hl-3"># Show AST</span><br/><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">wang-validate</span><span class="hl-1"> </span><span class="hl-2">script.wang</span><span class="hl-1"> </span><span class="hl-4">--ast</span><br/><br/><span class="hl-3"># Show syntax suggestions</span><br/><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">wang-validate</span><span class="hl-1"> </span><span class="hl-2">script.wang</span><span class="hl-1"> </span><span class="hl-4">--suggestions</span><br/><br/><span class="hl-3"># Validate from stdin</span><br/><span class="hl-0">echo</span><span class="hl-1"> </span><span class="hl-2">&#39;let x = 1&#39;</span><span class="hl-1"> | </span><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">wang-validate</span><span class="hl-1"> </span><span class="hl-2">-</span>
</code><button type="button">Copy</button></pre>

<h3 id="example-wang-file" class="tsd-anchor-link">Example .wang File<a href="#example-wang-file" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Create a file called <code>hello.wang</code>:</p>
<pre><code class="wang">// Simple Hello World example
console.log("Hello, Wang!")

// Test basic operations
let x = 42
let y = x * 2
console.log(`x = ${x}, y = ${y}`)

// Test array operations
let numbers = [1, 2, 3, 4, 5]
let evenNumbers = filter(numbers, n => n % 2 === 0)
let doubledNumbers = map(evenNumbers, n => n * 2)
console.log("Even numbers doubled:", doubledNumbers)

// Test functions
function greet(name) {
  return `Hello, ${name}!`
}

let message = greet("Wang Developer")
console.log(message)
</code><button type="button">Copy</button></pre>

<p>Then run it:</p>
<pre><code class="bash"><span class="hl-0">npx</span><span class="hl-1"> </span><span class="hl-2">wang-run</span><span class="hl-1"> </span><span class="hl-2">hello.wang</span>
</code><button type="button">Copy</button></pre>

<h2 id="quick-start" class="tsd-anchor-link">Quick Start<a href="#quick-start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="javascript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">WangInterpreter</span><span class="hl-1">, </span><span class="hl-6">InMemoryModuleResolver</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;wang-lang&#39;</span><br/><br/><span class="hl-3">// Create a module resolver</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">resolver</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">InMemoryModuleResolver</span><span class="hl-1">()</span><br/><br/><span class="hl-3">// Add a module</span><br/><span class="hl-6">resolver</span><span class="hl-1">.</span><span class="hl-0">addModule</span><span class="hl-1">(</span><span class="hl-2">&#39;utils&#39;</span><span class="hl-1">, </span><span class="hl-2">`</span><br/><span class="hl-2">  export function processData(data) {</span><br/><span class="hl-2">    return data </span><br/><span class="hl-2">      .filter(item =&gt; item.active)</span><br/><span class="hl-2">      .map(item =&gt; item.name)</span><br/><span class="hl-2">      .sort()</span><br/><span class="hl-2">`</span><span class="hl-1">)</span><br/><br/><span class="hl-3">// Create interpreter - 70+ stdlib functions are automatically available!</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">interpreter</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">WangInterpreter</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">moduleResolver:</span><span class="hl-1"> </span><span class="hl-6">resolver</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">// Add custom functions if needed (stdlib already includes filter, map, sort_by, etc.)</span><br/><span class="hl-1">  </span><span class="hl-6">functions:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">myCustomFunction</span><span class="hl-6">:</span><span class="hl-1"> (</span><span class="hl-6">x</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">x</span><span class="hl-1"> * </span><span class="hl-8">2</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-3">// Set JavaScript objects as variables (v0.11.1+)</span><br/><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">setVariable</span><span class="hl-1">(</span><span class="hl-2">&#39;Math&#39;</span><span class="hl-1">, </span><span class="hl-6">Math</span><span class="hl-1">)</span><br/><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">setVariable</span><span class="hl-1">(</span><span class="hl-2">&#39;JSON&#39;</span><span class="hl-1">, </span><span class="hl-7">JSON</span><span class="hl-1">)</span><br/><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">setVariable</span><span class="hl-1">(</span><span class="hl-2">&#39;customObject&#39;</span><span class="hl-1">, { </span><span class="hl-6">value:</span><span class="hl-1"> </span><span class="hl-8">42</span><span class="hl-1"> })</span><br/><br/><span class="hl-3">// Execute Wang code - returns the last expression value</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">execute</span><span class="hl-1">(</span><span class="hl-2">`</span><br/><span class="hl-2">  import { processData } from &quot;utils&quot;</span><br/><span class="hl-2">  </span><br/><span class="hl-2">  let data = [</span><br/><span class="hl-2">    { name: &quot;Alice&quot;, active: true },</span><br/><span class="hl-2">    { name: &quot;Bob&quot;, active: false },</span><br/><span class="hl-2">    { name: &quot;Charlie&quot;, active: true }</span><br/><span class="hl-2">  ]</span><br/><span class="hl-2">  </span><br/><span class="hl-2">  let processed = processData(data)</span><br/><span class="hl-2">  log(processed)  // [&quot;Alice&quot;, &quot;Charlie&quot;]</span><br/><span class="hl-2">  </span><br/><span class="hl-2">  // Last expression becomes the return value</span><br/><span class="hl-2">  { processed, count: processed.length }</span><br/><span class="hl-2">`</span><span class="hl-1">)</span><br/><br/><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-6">result</span><span class="hl-1">); </span><span class="hl-3">// { processed: [&quot;Alice&quot;, &quot;Charlie&quot;], count: 2 }</span>
</code><button type="button">Copy</button></pre>

<h2 id="language-features" class="tsd-anchor-link">Language Features<a href="#language-features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="standard-library-70-functions" class="tsd-anchor-link">Standard Library (70+ Functions)<a href="#standard-library-70-functions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Wang includes a comprehensive standard library with 70+ built-in functions that work seamlessly with method chaining and require no imports:</p>
<pre><code class="javascript"><span class="hl-3">// Array operations (immutable)</span><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-6">arr</span><span class="hl-1"> = [</span><span class="hl-8">3</span><span class="hl-1">, </span><span class="hl-8">1</span><span class="hl-1">, </span><span class="hl-8">4</span><span class="hl-1">, </span><span class="hl-8">1</span><span class="hl-1">, </span><span class="hl-8">5</span><span class="hl-1">, </span><span class="hl-8">9</span><span class="hl-1">, </span><span class="hl-8">2</span><span class="hl-1">, </span><span class="hl-8">6</span><span class="hl-1">]</span><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-6">uniqueArr</span><span class="hl-1"> = </span><span class="hl-0">unique</span><span class="hl-1">(</span><span class="hl-6">arr</span><span class="hl-1">)        </span><span class="hl-3">// [3, 1, 4, 5, 9, 2, 6] - Remove duplicates  </span><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-6">sortedArr</span><span class="hl-1"> = </span><span class="hl-0">sort</span><span class="hl-1">(</span><span class="hl-6">uniqueArr</span><span class="hl-1">)    </span><span class="hl-3">// [1, 2, 3, 4, 5, 6, 9] - Sort ascending</span><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-6">chunkedArr</span><span class="hl-1"> = </span><span class="hl-0">chunk</span><span class="hl-1">(</span><span class="hl-6">sortedArr</span><span class="hl-1">, </span><span class="hl-8">2</span><span class="hl-1">)  </span><span class="hl-3">// [[1,2], [3,4], [5,6], [9]] - Group into pairs</span><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-0">map</span><span class="hl-1">(</span><span class="hl-6">chunkedArr</span><span class="hl-1">, </span><span class="hl-6">pair</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">sum</span><span class="hl-1">(</span><span class="hl-6">pair</span><span class="hl-1">))  </span><span class="hl-3">// [3, 7, 11, 9] - Sum each pair</span><br/><br/><span class="hl-3">// Advanced array operations</span><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-6">users</span><span class="hl-1"> = [</span><br/><span class="hl-1">  { </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;Alice&quot;</span><span class="hl-1">, </span><span class="hl-6">age:</span><span class="hl-1"> </span><span class="hl-8">30</span><span class="hl-1">, </span><span class="hl-6">active:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1"> },</span><br/><span class="hl-1">  { </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;Bob&quot;</span><span class="hl-1">, </span><span class="hl-6">age:</span><span class="hl-1"> </span><span class="hl-8">25</span><span class="hl-1">, </span><span class="hl-6">active:</span><span class="hl-1"> </span><span class="hl-4">false</span><span class="hl-1"> },</span><br/><span class="hl-1">  { </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;Charlie&quot;</span><span class="hl-1">, </span><span class="hl-6">age:</span><span class="hl-1"> </span><span class="hl-8">35</span><span class="hl-1">, </span><span class="hl-6">active:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1"> }</span><br/><span class="hl-1">]</span><br/><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-6">activeUsers</span><span class="hl-1"> = </span><span class="hl-0">filter</span><span class="hl-1">(</span><span class="hl-6">users</span><span class="hl-1">, </span><span class="hl-6">u</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">u</span><span class="hl-1">.</span><span class="hl-6">active</span><span class="hl-1">)     </span><span class="hl-3">// Only active users</span><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-6">sortedUsers</span><span class="hl-1"> = </span><span class="hl-0">sort_by</span><span class="hl-1">(</span><span class="hl-6">activeUsers</span><span class="hl-1">, </span><span class="hl-2">&quot;age&quot;</span><span class="hl-1">)      </span><span class="hl-3">// Sort by age property</span><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-6">names</span><span class="hl-1"> = </span><span class="hl-0">map</span><span class="hl-1">(</span><span class="hl-6">sortedUsers</span><span class="hl-1">, </span><span class="hl-6">u</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">u</span><span class="hl-1">.</span><span class="hl-6">name</span><span class="hl-1">)          </span><span class="hl-3">// Extract names</span><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-0">join</span><span class="hl-1">(</span><span class="hl-6">names</span><span class="hl-1">, </span><span class="hl-2">&quot;, &quot;</span><span class="hl-1">)                      </span><span class="hl-3">// &quot;Alice, Charlie&quot;</span><br/><br/><span class="hl-3">// Object operations</span><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-6">user</span><span class="hl-1"> = { </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;Alice&quot;</span><span class="hl-1">, </span><span class="hl-6">age:</span><span class="hl-1"> </span><span class="hl-8">30</span><span class="hl-1">, </span><span class="hl-6">email:</span><span class="hl-1"> </span><span class="hl-2">&quot;alice@example.com&quot;</span><span class="hl-1">, </span><span class="hl-6">password:</span><span class="hl-1"> </span><span class="hl-2">&quot;secret&quot;</span><span class="hl-1"> }</span><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-6">publicData</span><span class="hl-1"> = </span><span class="hl-0">pick</span><span class="hl-1">(</span><span class="hl-6">user</span><span class="hl-1">, [</span><span class="hl-2">&quot;name&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;age&quot;</span><span class="hl-1">])        </span><span class="hl-3">// { name: &quot;Alice&quot;, age: 30 }</span><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-6">withoutSecret</span><span class="hl-1"> = </span><span class="hl-0">omit</span><span class="hl-1">(</span><span class="hl-6">user</span><span class="hl-1">, [</span><span class="hl-2">&quot;password&quot;</span><span class="hl-1">])        </span><span class="hl-3">// Remove sensitive data</span><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-6">merged</span><span class="hl-1"> = </span><span class="hl-0">merge</span><span class="hl-1">(</span><span class="hl-6">user</span><span class="hl-1">, { </span><span class="hl-6">location:</span><span class="hl-1"> </span><span class="hl-2">&quot;NYC&quot;</span><span class="hl-1"> })       </span><span class="hl-3">// Add new properties</span><br/><br/><span class="hl-3">// String operations</span><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-6">str</span><span class="hl-1"> = </span><span class="hl-2">&quot;  hello world  &quot;</span><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-6">trimmed</span><span class="hl-1"> = </span><span class="hl-0">trim</span><span class="hl-1">(</span><span class="hl-6">str</span><span class="hl-1">)                    </span><span class="hl-3">// &quot;hello world&quot; - Remove whitespace</span><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-6">uppercased</span><span class="hl-1"> = </span><span class="hl-0">upper</span><span class="hl-1">(</span><span class="hl-6">trimmed</span><span class="hl-1">)            </span><span class="hl-3">// &quot;HELLO WORLD&quot; - Uppercase</span><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-6">replaced</span><span class="hl-1"> = </span><span class="hl-0">replace_all</span><span class="hl-1">(</span><span class="hl-6">uppercased</span><span class="hl-1">, </span><span class="hl-2">&quot;O&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;0&quot;</span><span class="hl-1">)  </span><span class="hl-3">// &quot;HELL0 W0RLD&quot; - Replace all O&#39;s</span><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-0">split</span><span class="hl-1">(</span><span class="hl-6">replaced</span><span class="hl-1">, </span><span class="hl-2">&quot; &quot;</span><span class="hl-1">)          </span><span class="hl-3">// [&quot;HELL0&quot;, &quot;W0RLD&quot;] - Split to array</span><br/><br/><span class="hl-3">// Math and utilities  </span><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-6">numbers</span><span class="hl-1"> = [</span><span class="hl-8">1</span><span class="hl-1">, </span><span class="hl-8">5</span><span class="hl-1">, </span><span class="hl-8">3</span><span class="hl-1">, </span><span class="hl-8">9</span><span class="hl-1">, </span><span class="hl-8">2</span><span class="hl-1">]</span><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-6">stats</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-6">total:</span><span class="hl-1"> </span><span class="hl-0">sum</span><span class="hl-1">(</span><span class="hl-6">numbers</span><span class="hl-1">),              </span><span class="hl-3">// 20</span><br/><span class="hl-1">  </span><span class="hl-6">average:</span><span class="hl-1"> </span><span class="hl-0">avg</span><span class="hl-1">(</span><span class="hl-6">numbers</span><span class="hl-1">),            </span><span class="hl-3">// 4</span><br/><span class="hl-1">  </span><span class="hl-6">median:</span><span class="hl-1"> </span><span class="hl-0">median</span><span class="hl-1">(</span><span class="hl-6">numbers</span><span class="hl-1">),          </span><span class="hl-3">// 3</span><br/><span class="hl-1">  </span><span class="hl-6">min:</span><span class="hl-1"> </span><span class="hl-0">min</span><span class="hl-1">(...</span><span class="hl-6">numbers</span><span class="hl-1">),             </span><span class="hl-3">// 1</span><br/><span class="hl-1">  </span><span class="hl-6">max:</span><span class="hl-1"> </span><span class="hl-0">max</span><span class="hl-1">(...</span><span class="hl-6">numbers</span><span class="hl-1">)              </span><span class="hl-3">// 9</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Type checking and validation</span><br/><span class="hl-0">is_array</span><span class="hl-1">([</span><span class="hl-8">1</span><span class="hl-1">, </span><span class="hl-8">2</span><span class="hl-1">, </span><span class="hl-8">3</span><span class="hl-1">])               </span><span class="hl-3">// true</span><br/><span class="hl-0">is_object</span><span class="hl-1">({</span><span class="hl-6">a:</span><span class="hl-1"> </span><span class="hl-8">1</span><span class="hl-1">})                 </span><span class="hl-3">// true  </span><br/><span class="hl-0">is_string</span><span class="hl-1">(</span><span class="hl-2">&quot;hello&quot;</span><span class="hl-1">)                </span><span class="hl-3">// true</span><br/><span class="hl-0">is_empty</span><span class="hl-1">([])                      </span><span class="hl-3">// true</span><br/><span class="hl-0">is_empty</span><span class="hl-1">(</span><span class="hl-2">&quot;&quot;</span><span class="hl-1">)                      </span><span class="hl-3">// true</span><br/><span class="hl-0">is_empty</span><span class="hl-1">({})                      </span><span class="hl-3">// true</span><br/><br/><span class="hl-3">// Functional utilities</span><br/><span class="hl-0">range</span><span class="hl-1">(</span><span class="hl-8">5</span><span class="hl-1">)                          </span><span class="hl-3">// [0, 1, 2, 3, 4] - Generate sequence</span><br/><span class="hl-0">uuid</span><span class="hl-1">()                            </span><span class="hl-3">// &quot;123e4567-e89b-12d3-a456-426614174000&quot;</span><br/><span class="hl-0">sleep</span><span class="hl-1">(</span><span class="hl-8">1000</span><span class="hl-1">)                       </span><span class="hl-3">// Promise that resolves after 1 second</span>
</code><button type="button">Copy</button></pre>

<p>See <a href="#standard-library-reference">Standard Library Reference</a> for the complete list.</p>
<h3 id="modern-javascript-syntax" class="tsd-anchor-link">Modern JavaScript Syntax<a href="#modern-javascript-syntax" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Wang supports most modern JavaScript features including multiline expressions (v0.21.0+):</p>
<pre><code class="javascript"><span class="hl-3">// Variables with proper scoping semantics</span><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-6">mutable</span><span class="hl-1"> = </span><span class="hl-8">10</span><span class="hl-1">;        </span><span class="hl-3">// Block-scoped</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">immutable</span><span class="hl-1"> = </span><span class="hl-8">20</span><span class="hl-1">;    </span><span class="hl-3">// Block-scoped and immutable</span><br/><span class="hl-4">var</span><span class="hl-1"> </span><span class="hl-6">hoisted</span><span class="hl-1"> = </span><span class="hl-8">30</span><span class="hl-1">;        </span><span class="hl-3">// Function-scoped with hoisting</span><br/><br/><span class="hl-3">// Compound assignment operators (v0.6.3 - fully working!)</span><br/><span class="hl-6">mutable</span><span class="hl-1"> += </span><span class="hl-8">5</span><span class="hl-1">;           </span><span class="hl-3">// Addition assignment: 15</span><br/><span class="hl-6">mutable</span><span class="hl-1"> -= </span><span class="hl-8">2</span><span class="hl-1">;           </span><span class="hl-3">// Subtraction assignment: 13</span><br/><span class="hl-6">mutable</span><span class="hl-1"> *= </span><span class="hl-8">3</span><span class="hl-1">;           </span><span class="hl-3">// Multiplication assignment: 39</span><br/><span class="hl-6">mutable</span><span class="hl-1"> /= </span><span class="hl-8">2</span><span class="hl-1">;           </span><span class="hl-3">// Division assignment: 19.5</span><br/><br/><span class="hl-3">// Increment and decrement operators</span><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-6">counter</span><span class="hl-1"> = </span><span class="hl-8">0</span><br/><span class="hl-6">counter</span><span class="hl-1">++              </span><span class="hl-3">// Post-increment: returns 0, then increments to 1</span><br/><span class="hl-1">++</span><span class="hl-6">counter</span><span class="hl-1">;              </span><span class="hl-3">// Pre-increment: increments to 2, then returns 2</span><br/><span class="hl-6">counter</span><span class="hl-1">--;              </span><span class="hl-3">// Post-decrement: returns 2, then decrements to 1  </span><br/><span class="hl-1">--</span><span class="hl-6">counter</span><span class="hl-1">;              </span><span class="hl-3">// Pre-decrement: decrements to 0, then returns 0</span><br/><br/><span class="hl-3">// Const immutability is enforced</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">PI</span><span class="hl-1"> = </span><span class="hl-8">3.14159</span><br/><span class="hl-3">// PI = 3.14  // ‚ùå Error: Cannot reassign const variable</span><br/><br/><span class="hl-3">// Var hoisting works correctly</span><br/><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">typeof</span><span class="hl-1"> </span><span class="hl-6">x</span><span class="hl-1">)           </span><span class="hl-3">// &quot;undefined&quot; (not an error!)</span><br/><span class="hl-4">var</span><span class="hl-1"> </span><span class="hl-6">x</span><span class="hl-1"> = </span><span class="hl-8">42</span><br/><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-6">x</span><span class="hl-1">)                  </span><span class="hl-3">// 42</span><br/><br/><span class="hl-3">// Multiline conditionals (v0.21.0+)</span><br/><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-6">text</span><span class="hl-1"> &amp;&amp; </span><span class="hl-6">href</span><span class="hl-1"> &amp;&amp; (</span><br/><span class="hl-1">  </span><span class="hl-6">text</span><span class="hl-1">.</span><span class="hl-0">toLowerCase</span><span class="hl-1">().</span><span class="hl-0">includes</span><span class="hl-1">(</span><span class="hl-2">&#39;result&#39;</span><span class="hl-1">) || </span><br/><span class="hl-1">  </span><span class="hl-6">text</span><span class="hl-1">.</span><span class="hl-0">toLowerCase</span><span class="hl-1">().</span><span class="hl-0">includes</span><span class="hl-1">(</span><span class="hl-2">&#39;fixture&#39;</span><span class="hl-1">) || </span><br/><span class="hl-1">  </span><span class="hl-6">text</span><span class="hl-1">.</span><span class="hl-0">toLowerCase</span><span class="hl-1">().</span><span class="hl-0">includes</span><span class="hl-1">(</span><span class="hl-2">&#39;match&#39;</span><span class="hl-1">) ||</span><br/><span class="hl-1">  </span><span class="hl-6">text</span><span class="hl-1">.</span><span class="hl-0">toLowerCase</span><span class="hl-1">().</span><span class="hl-0">includes</span><span class="hl-1">(</span><span class="hl-2">&#39;schedule&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">)) {</span><br/><span class="hl-1">  </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Sports link found!&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Multiline logical expressions</span><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-0">isValid</span><span class="hl-1"> = (</span><br/><span class="hl-1">  </span><span class="hl-6">value</span><span class="hl-1"> !== </span><span class="hl-4">null</span><span class="hl-1"> </span><br/><span class="hl-1">  &amp;&amp; </span><span class="hl-6">value</span><span class="hl-1"> !== </span><span class="hl-4">undefined</span><br/><span class="hl-1">  &amp;&amp; (</span><span class="hl-6">value</span><span class="hl-1"> &gt; </span><span class="hl-8">0</span><span class="hl-1"> || </span><span class="hl-6">value</span><span class="hl-1"> === -</span><span class="hl-8">1</span><span class="hl-1">)</span><br/><span class="hl-1">)</span><br/><br/><span class="hl-3">// Multiline ternary operators</span><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-6">message</span><span class="hl-1"> = </span><span class="hl-6">value</span><span class="hl-1"> &gt; </span><span class="hl-8">100</span><span class="hl-1"> </span><br/><span class="hl-1">  ? </span><span class="hl-2">&quot;Large value&quot;</span><span class="hl-1"> </span><br/><span class="hl-1">  : </span><span class="hl-6">value</span><span class="hl-1"> &gt; </span><span class="hl-8">50</span><span class="hl-1"> </span><br/><span class="hl-1">    ? </span><span class="hl-2">&quot;Medium value&quot;</span><br/><span class="hl-1">    : </span><span class="hl-2">&quot;Small value&quot;</span><br/><br/><span class="hl-3">// Multiline for loops</span><br/><span class="hl-5">for</span><span class="hl-1"> (</span><br/><span class="hl-1">  </span><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-6">i</span><span class="hl-1"> = </span><span class="hl-8">0</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">i</span><span class="hl-1"> &lt; </span><span class="hl-6">items</span><span class="hl-1">.</span><span class="hl-6">length</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">i</span><span class="hl-1">++</span><br/><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-0">process</span><span class="hl-1">(</span><span class="hl-6">items</span><span class="hl-1">[</span><span class="hl-6">i</span><span class="hl-1">])</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Block scoping with proper shadowing</span><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-6">outer</span><span class="hl-1"> = </span><span class="hl-8">1</span><br/><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-6">outer</span><span class="hl-1"> = </span><span class="hl-8">2</span><span class="hl-1">         </span><span class="hl-3">// Shadows outer variable</span><br/><span class="hl-1">  </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">inner</span><span class="hl-1"> = </span><span class="hl-8">3</span><br/><span class="hl-1">  </span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-6">outer</span><span class="hl-1">)            </span><span class="hl-3">// 2</span><br/><span class="hl-1">}</span><br/><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-6">outer</span><span class="hl-1">)              </span><span class="hl-3">// 1</span><br/><span class="hl-3">// log(inner);           // ‚ùå Error: inner is not defined</span><br/><br/><span class="hl-3">// Destructuring</span><br/><span class="hl-4">const</span><span class="hl-1"> { </span><span class="hl-7">name</span><span class="hl-1">, </span><span class="hl-7">age</span><span class="hl-1"> } = </span><span class="hl-6">person</span><br/><span class="hl-4">const</span><span class="hl-1"> [</span><span class="hl-7">first</span><span class="hl-1">, </span><span class="hl-7">second</span><span class="hl-1">, ...</span><span class="hl-7">rest</span><span class="hl-1">] = </span><span class="hl-6">numbers</span><br/><br/><span class="hl-3">// Template literals with full expression support</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">message</span><span class="hl-1"> = </span><span class="hl-2">`Hello, </span><span class="hl-4">${</span><span class="hl-6">name</span><span class="hl-4">}</span><span class="hl-2">!`</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">math</span><span class="hl-1"> = </span><span class="hl-2">`Result: </span><span class="hl-4">${</span><span class="hl-8">2</span><span class="hl-9"> </span><span class="hl-1">+</span><span class="hl-9"> </span><span class="hl-8">3</span><span class="hl-4">}</span><span class="hl-2"> and </span><span class="hl-4">${</span><span class="hl-8">10</span><span class="hl-9"> </span><span class="hl-1">*</span><span class="hl-9"> </span><span class="hl-8">5</span><span class="hl-4">}</span><span class="hl-2">`</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">complex</span><span class="hl-1"> = </span><span class="hl-2">`User </span><span class="hl-4">${</span><span class="hl-6">user</span><span class="hl-9">.</span><span class="hl-6">name</span><span class="hl-4">}</span><span class="hl-2"> is </span><span class="hl-4">${</span><span class="hl-6">user</span><span class="hl-9">.</span><span class="hl-6">age</span><span class="hl-9"> </span><span class="hl-1">&gt;=</span><span class="hl-9"> </span><span class="hl-8">18</span><span class="hl-9"> </span><span class="hl-1">?</span><span class="hl-9"> </span><span class="hl-2">&quot;adult&quot;</span><span class="hl-9"> </span><span class="hl-1">:</span><span class="hl-9"> </span><span class="hl-2">&quot;minor&quot;</span><span class="hl-4">}</span><span class="hl-2">`</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">formatted</span><span class="hl-1"> = </span><span class="hl-2">`Price: $</span><span class="hl-4">${</span><span class="hl-6">price</span><span class="hl-9">.</span><span class="hl-0">toFixed</span><span class="hl-9">(</span><span class="hl-8">2</span><span class="hl-9">)</span><span class="hl-4">}</span><span class="hl-2">`</span><br/><span class="hl-3">// Note: Nested template literals are not supported (architectural limitation)</span><br/><br/><span class="hl-3">// Optional chaining (dot notation and computed member access)</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">value</span><span class="hl-1"> = </span><span class="hl-6">obj</span><span class="hl-1">?.</span><span class="hl-6">nested</span><span class="hl-1">?.</span><span class="hl-6">property</span><span class="hl-1"> ?? </span><span class="hl-6">defaultValue</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">title</span><span class="hl-1"> = </span><span class="hl-6">titles</span><span class="hl-1">.</span><span class="hl-6">data</span><span class="hl-1">?.[</span><span class="hl-8">0</span><span class="hl-1">]?.</span><span class="hl-6">textContent</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">item</span><span class="hl-1"> = </span><span class="hl-6">matrix</span><span class="hl-1">?.[</span><span class="hl-6">row</span><span class="hl-1">]?.[</span><span class="hl-6">col</span><span class="hl-1">]?.</span><span class="hl-6">value</span><br/><br/><span class="hl-3">// Reserved keywords as property names (JavaScript-compatible)</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-6">Array</span><span class="hl-1">.</span><span class="hl-0">from</span><span class="hl-1">([</span><span class="hl-8">1</span><span class="hl-1">, </span><span class="hl-8">2</span><span class="hl-1">, </span><span class="hl-8">3</span><span class="hl-1">])  </span><span class="hl-3">// &#39;from&#39; is a reserved keyword</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">config</span><span class="hl-1"> = { </span><br/><span class="hl-1">  </span><span class="hl-6">import:</span><span class="hl-1"> </span><span class="hl-2">&quot;module&quot;</span><span class="hl-1">, </span><br/><span class="hl-1">  </span><span class="hl-6">class:</span><span class="hl-1"> </span><span class="hl-2">&quot;MyClass&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">from:</span><span class="hl-1"> </span><span class="hl-2">&quot;source&quot;</span><span class="hl-1"> </span><br/><span class="hl-1">}</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">source</span><span class="hl-1"> = </span><span class="hl-6">config</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">  </span><span class="hl-3">// Access reserved keyword properties</span><br/><br/><span class="hl-3">// Spread operator</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">combined</span><span class="hl-1"> = [...</span><span class="hl-6">array1</span><span class="hl-1">, ...</span><span class="hl-6">array2</span><span class="hl-1">]</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">merged</span><span class="hl-1"> = { ...</span><span class="hl-6">obj1</span><span class="hl-1">, ...</span><span class="hl-6">obj2</span><span class="hl-1"> }</span><br/><br/><span class="hl-3">// Arrow functions</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-0">double</span><span class="hl-1"> = </span><span class="hl-6">x</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">x</span><span class="hl-1"> * </span><span class="hl-8">2</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-0">add</span><span class="hl-1"> = (</span><span class="hl-6">a</span><span class="hl-1">, </span><span class="hl-6">b</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">a</span><span class="hl-1"> + </span><span class="hl-6">b</span><br/><br/><span class="hl-3">// Regular expression literals with all JavaScript flags</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">emailPattern</span><span class="hl-1"> =</span><span class="hl-10"> /</span><span class="hl-11">^</span><span class="hl-12">[^</span><span class="hl-10">@</span><span class="hl-12">]</span><span class="hl-13">+</span><span class="hl-10">@</span><span class="hl-12">[^</span><span class="hl-10">@</span><span class="hl-12">]</span><span class="hl-13">+</span><span class="hl-14">\.</span><span class="hl-12">[^</span><span class="hl-10">@</span><span class="hl-12">]</span><span class="hl-13">+</span><span class="hl-11">$</span><span class="hl-10">/</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">phoneRegex</span><span class="hl-1"> =</span><span class="hl-10"> /</span><span class="hl-14">\(</span><span class="hl-10">\d</span><span class="hl-13">{3}</span><span class="hl-14">\)</span><span class="hl-10">\s\d</span><span class="hl-13">{3}</span><span class="hl-10">-\d</span><span class="hl-13">{4}</span><span class="hl-10">/</span><span class="hl-4">g</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">unicodePattern</span><span class="hl-1"> =</span><span class="hl-10"> /</span><span class="hl-12">[</span><span class="hl-14">\u</span><span class="hl-10">{1F600}-</span><span class="hl-14">\u</span><span class="hl-10">{1F64F}</span><span class="hl-12">]</span><span class="hl-10">/</span><span class="hl-4">gu</span><span class="hl-1">  </span><span class="hl-3">// Emoji with unicode flag</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">multilineText</span><span class="hl-1"> =</span><span class="hl-10"> /</span><span class="hl-11">^</span><span class="hl-10">start.</span><span class="hl-13">*</span><span class="hl-10">end</span><span class="hl-11">$</span><span class="hl-10">/</span><span class="hl-4">ms</span><span class="hl-1">;             </span><span class="hl-3">// Multiline and dotAll flags</span><br/><br/><span class="hl-3">// Regex methods work seamlessly</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">text</span><span class="hl-1"> = </span><span class="hl-2">&quot;Contact: user@domain.com or call (555) 123-4567&quot;</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">emails</span><span class="hl-1"> = </span><span class="hl-6">text</span><span class="hl-1">.</span><span class="hl-0">match</span><span class="hl-1">(</span><span class="hl-10">/\w</span><span class="hl-13">+</span><span class="hl-10">@\w</span><span class="hl-13">+</span><span class="hl-14">\.</span><span class="hl-10">\w</span><span class="hl-13">+</span><span class="hl-10">/</span><span class="hl-4">g</span><span class="hl-1">)          </span><span class="hl-3">// [&quot;user@domain.com&quot;]  </span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">hasPhone</span><span class="hl-1"> =</span><span class="hl-10"> /</span><span class="hl-14">\(</span><span class="hl-10">\d</span><span class="hl-13">{3}</span><span class="hl-14">\)</span><span class="hl-10">/</span><span class="hl-1">.</span><span class="hl-0">test</span><span class="hl-1">(</span><span class="hl-6">text</span><span class="hl-1">);            </span><span class="hl-3">// true</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">cleaned</span><span class="hl-1"> = </span><span class="hl-6">text</span><span class="hl-1">.</span><span class="hl-0">replace</span><span class="hl-1">(</span><span class="hl-10">/\d</span><span class="hl-13">+</span><span class="hl-10">/</span><span class="hl-4">g</span><span class="hl-1">, </span><span class="hl-2">&quot;XXX&quot;</span><span class="hl-1">);        </span><span class="hl-3">// Replace all digits</span><br/><br/><span class="hl-3">// Ternary conditional operator</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">status</span><span class="hl-1"> = </span><span class="hl-6">age</span><span class="hl-1"> &gt;= </span><span class="hl-8">18</span><span class="hl-1"> ? </span><span class="hl-2">&quot;adult&quot;</span><span class="hl-1"> : </span><span class="hl-2">&quot;minor&quot;</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">value</span><span class="hl-1"> = </span><span class="hl-6">condition</span><span class="hl-1"> ? (</span><span class="hl-6">nested</span><span class="hl-1"> ? </span><span class="hl-8">1</span><span class="hl-1"> : </span><span class="hl-8">2</span><span class="hl-1">) : </span><span class="hl-8">3</span><br/><br/><span class="hl-3">// Async/await</span><br/><span class="hl-4">async</span><span class="hl-1"> </span><span class="hl-4">function</span><span class="hl-1"> </span><span class="hl-0">fetchData</span><span class="hl-1">() {</span><br/><span class="hl-1">  </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">response</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">fetch</span><span class="hl-1">(</span><span class="hl-6">url</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">response</span><span class="hl-1">.</span><span class="hl-0">json</span><span class="hl-1">()</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="classes" class="tsd-anchor-link">Classes<a href="#classes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Full object-oriented programming support with inheritance and proper <code>this</code> binding:</p>
<pre><code class="javascript"><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-15">Animal</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">constructor</span><span class="hl-1">(</span><span class="hl-6">name</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-6">name</span><span class="hl-1"> = </span><span class="hl-6">name</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-0">speak</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-6">name</span><span class="hl-1"> + </span><span class="hl-2">&quot; makes a sound&quot;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-15">Dog</span><span class="hl-1"> </span><span class="hl-4">extends</span><span class="hl-1"> </span><span class="hl-15">Animal</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">constructor</span><span class="hl-1">(</span><span class="hl-6">name</span><span class="hl-1">, </span><span class="hl-6">breed</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">super</span><span class="hl-1">(</span><span class="hl-6">name</span><span class="hl-1">)  </span><span class="hl-3">// Call parent constructor</span><br/><span class="hl-1">    </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-6">breed</span><span class="hl-1"> = </span><span class="hl-6">breed</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-0">speak</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-6">name</span><span class="hl-1"> + </span><span class="hl-2">&quot; barks&quot;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-0">getBreed</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-6">breed</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">dog</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">Dog</span><span class="hl-1">(</span><span class="hl-2">&quot;Max&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;Golden Retriever&quot;</span><span class="hl-1">)</span><br/><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-6">dog</span><span class="hl-1">.</span><span class="hl-0">speak</span><span class="hl-1">())       </span><span class="hl-3">// &quot;Max barks&quot;</span><br/><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-6">dog</span><span class="hl-1">.</span><span class="hl-0">getBreed</span><span class="hl-1">());    </span><span class="hl-3">// &quot;Golden Retriever&quot;</span>
</code><button type="button">Copy</button></pre>

<h3 id="return-values" class="tsd-anchor-link">Return Values<a href="#return-values" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Wang returns the last evaluated expression, making it perfect for REPL usage and functional workflows:</p>
<pre><code class="javascript"><span class="hl-3">// Simple expression return</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">sum</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">execute</span><span class="hl-1">(</span><span class="hl-2">`</span><br/><span class="hl-2">  let x = 5</span><br/><span class="hl-2">  let y = 10</span><br/><span class="hl-2">  x + y  // Returns 15</span><br/><span class="hl-2">`</span><span class="hl-1">)</span><br/><br/><span class="hl-3">// Object construction return</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">config</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">execute</span><span class="hl-1">(</span><span class="hl-2">`</span><br/><span class="hl-2">  const env = &quot;production&quot;</span><br/><span class="hl-2">  const port = 3000</span><br/><span class="hl-2">  </span><br/><span class="hl-2">  // This object is returned</span><br/><span class="hl-2">  { env, port, debug: false }</span><br/><span class="hl-2">`</span><span class="hl-1">)</span><br/><br/><span class="hl-3">// Functional programming with method chaining</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">execute</span><span class="hl-1">(</span><span class="hl-2">`</span><br/><span class="hl-2">  [1, 2, 3, 4, 5]</span><br/><span class="hl-2">    .filter(n =&gt; n &gt; 2)</span><br/><span class="hl-2">    .map(n =&gt; n * 2)</span><br/><span class="hl-2">    .reduce((sum, n) =&gt; sum + n, 0)</span><br/><span class="hl-2">`</span><span class="hl-1">)</span><br/><span class="hl-3">// result = 24</span>
</code><button type="button">Copy</button></pre>

<h3 id="method-chaining-and-functional-programming" class="tsd-anchor-link">Method Chaining and Functional Programming<a href="#method-chaining-and-functional-programming" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Wang provides full support for JavaScript's method chaining and functional programming patterns:</p>
<pre><code class="javascript"><span class="hl-3">// Array method chaining</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-6">data</span><br/><span class="hl-1">  .</span><span class="hl-0">filter</span><span class="hl-1">(</span><span class="hl-6">x</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">x</span><span class="hl-1"> &gt; </span><span class="hl-8">0</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">map</span><span class="hl-1">(</span><span class="hl-6">x</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">x</span><span class="hl-1"> * </span><span class="hl-8">2</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">reduce</span><span class="hl-1">((</span><span class="hl-6">sum</span><span class="hl-1">, </span><span class="hl-6">x</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">sum</span><span class="hl-1"> + </span><span class="hl-6">x</span><span class="hl-1">, </span><span class="hl-8">0</span><span class="hl-1">)</span><br/><br/><span class="hl-3">// Complex data transformations</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">users</span><span class="hl-1"> = [</span><br/><span class="hl-1">  {</span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;Alice&quot;</span><span class="hl-1">, </span><span class="hl-6">scores:</span><span class="hl-1"> [</span><span class="hl-8">80</span><span class="hl-1">, </span><span class="hl-8">90</span><span class="hl-1">, </span><span class="hl-8">85</span><span class="hl-1">]},</span><br/><span class="hl-1">  {</span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&quot;Bob&quot;</span><span class="hl-1">, </span><span class="hl-6">scores:</span><span class="hl-1"> [</span><span class="hl-8">75</span><span class="hl-1">, </span><span class="hl-8">85</span><span class="hl-1">, </span><span class="hl-8">95</span><span class="hl-1">]}</span><br/><span class="hl-1">]</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">averages</span><span class="hl-1"> = </span><span class="hl-6">users</span><span class="hl-1">.</span><span class="hl-0">map</span><span class="hl-1">(</span><span class="hl-6">user</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> ({</span><br/><span class="hl-1">  </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-6">user</span><span class="hl-1">.</span><span class="hl-6">name</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">avg:</span><span class="hl-1"> </span><span class="hl-6">user</span><span class="hl-1">.</span><span class="hl-6">scores</span><span class="hl-1">.</span><span class="hl-0">reduce</span><span class="hl-1">((</span><span class="hl-6">a</span><span class="hl-1">, </span><span class="hl-6">b</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">a</span><span class="hl-1"> + </span><span class="hl-6">b</span><span class="hl-1">, </span><span class="hl-8">0</span><span class="hl-1">) / </span><span class="hl-6">user</span><span class="hl-1">.</span><span class="hl-6">scores</span><span class="hl-1">.</span><span class="hl-6">length</span><br/><span class="hl-1">}))</span><br/><br/><span class="hl-3">// Multiline method chains with proper indentation</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">processed</span><span class="hl-1"> = </span><span class="hl-6">rawData</span><br/><span class="hl-1">  .</span><span class="hl-0">filter</span><span class="hl-1">(</span><span class="hl-6">item</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">item</span><span class="hl-1">.</span><span class="hl-6">active</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">map</span><span class="hl-1">(</span><span class="hl-6">item</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> ({ ...</span><span class="hl-6">item</span><span class="hl-1">, </span><span class="hl-6">processed:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1"> }))</span><br/><span class="hl-1">  .</span><span class="hl-0">sort</span><span class="hl-1">((</span><span class="hl-6">a</span><span class="hl-1">, </span><span class="hl-6">b</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">a</span><span class="hl-1">.</span><span class="hl-6">priority</span><span class="hl-1"> - </span><span class="hl-6">b</span><span class="hl-1">.</span><span class="hl-6">priority</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">slice</span><span class="hl-1">(</span><span class="hl-8">0</span><span class="hl-1">, </span><span class="hl-8">10</span><span class="hl-1">)</span><br/><br/><span class="hl-3">// Regular expressions with method chaining</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">logData</span><span class="hl-1"> = </span><span class="hl-2">&quot;ERROR: Failed login</span><span class="hl-14">\n</span><span class="hl-2">INFO: Success</span><span class="hl-14">\n</span><span class="hl-2">ERROR: Database timeout&quot;</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">errorCount</span><span class="hl-1"> = </span><span class="hl-6">logData</span><br/><span class="hl-1">  .</span><span class="hl-0">split</span><span class="hl-1">(</span><span class="hl-10">/\n/</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">filter</span><span class="hl-1">(</span><span class="hl-6">line</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">line</span><span class="hl-1">.</span><span class="hl-0">match</span><span class="hl-1">(</span><span class="hl-10">/ERROR:/</span><span class="hl-1">))</span><br/><span class="hl-1">  .</span><span class="hl-6">length</span><span class="hl-1">;  </span><span class="hl-3">// 2</span><br/><br/><span class="hl-3">// Extract and process data with regex</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">userEmails</span><span class="hl-1"> = </span><span class="hl-2">&quot;Contact alice@company.com or bob@startup.org for info&quot;</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">domains</span><span class="hl-1"> = </span><span class="hl-6">userEmails</span><br/><span class="hl-1">  .</span><span class="hl-0">match</span><span class="hl-1">(</span><span class="hl-10">/</span><span class="hl-12">(</span><span class="hl-10">\w</span><span class="hl-13">+</span><span class="hl-12">)</span><span class="hl-10">@</span><span class="hl-12">(</span><span class="hl-10">\w</span><span class="hl-13">+</span><span class="hl-14">\.</span><span class="hl-10">\w</span><span class="hl-13">+</span><span class="hl-12">)</span><span class="hl-10">/</span><span class="hl-4">g</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">map</span><span class="hl-1">(</span><span class="hl-6">email</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">email</span><span class="hl-1">.</span><span class="hl-0">split</span><span class="hl-1">(</span><span class="hl-2">&#39;@&#39;</span><span class="hl-1">)[</span><span class="hl-8">1</span><span class="hl-1">])</span><br/><span class="hl-1">  .</span><span class="hl-0">filter</span><span class="hl-1">((</span><span class="hl-6">v</span><span class="hl-1">, </span><span class="hl-6">i</span><span class="hl-1">, </span><span class="hl-6">a</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">a</span><span class="hl-1">.</span><span class="hl-0">indexOf</span><span class="hl-1">(</span><span class="hl-6">v</span><span class="hl-1">) === </span><span class="hl-6">i</span><span class="hl-1">)  </span><span class="hl-3">// unique</span><br/><span class="hl-1">  .</span><span class="hl-0">sort</span><span class="hl-1">();  </span><span class="hl-3">// [&quot;company.com&quot;, &quot;startup.org&quot;]</span><br/><br/><span class="hl-3">// Method chaining across lines</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">builder</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">StringBuilder</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-0">append</span><span class="hl-1">(</span><span class="hl-2">&quot;Hello&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">append</span><span class="hl-1">(</span><span class="hl-2">&quot; &quot;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">append</span><span class="hl-1">(</span><span class="hl-2">&quot;World&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">toString</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

<h3 id="modules" class="tsd-anchor-link">Modules<a href="#modules" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Full ES6 module support:</p>
<pre><code class="javascript"><span class="hl-3">// math.wang</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-4">function</span><span class="hl-1"> </span><span class="hl-0">square</span><span class="hl-1">(</span><span class="hl-6">x</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-6">x</span><span class="hl-1"> * </span><span class="hl-6">x</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">PI</span><span class="hl-1"> = </span><span class="hl-8">3.14159</span><br/><br/><span class="hl-3">// main.wang</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">square</span><span class="hl-1">, </span><span class="hl-6">PI</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&quot;math&quot;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">area</span><span class="hl-1"> = </span><span class="hl-0">square</span><span class="hl-1">(</span><span class="hl-8">5</span><span class="hl-1">) * </span><span class="hl-7">PI</span>
</code><button type="button">Copy</button></pre>

<h2 id="module-resolution" class="tsd-anchor-link">Module Resolution<a href="#module-resolution" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Wang provides a pluggable module resolution system. Implement your own resolver:</p>
<pre><code class="javascript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">ModuleResolver</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@wang-lang/core&#39;</span><br/><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-15">MyCustomResolver</span><span class="hl-1"> </span><span class="hl-4">extends</span><span class="hl-1"> </span><span class="hl-15">ModuleResolver</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">async</span><span class="hl-1"> </span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-6">modulePath</span><span class="hl-1">, </span><span class="hl-6">fromPath</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">// Your logic to find and return module code</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">code</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">fetchModuleFromSomewhere</span><span class="hl-1">(</span><span class="hl-6">modulePath</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> { </span><span class="hl-6">code</span><span class="hl-1">, </span><span class="hl-6">path:</span><span class="hl-1"> </span><span class="hl-6">modulePath</span><span class="hl-1"> }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-4">async</span><span class="hl-1"> </span><span class="hl-0">exists</span><span class="hl-1">(</span><span class="hl-6">modulePath</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">// Check if module exists</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">checkIfModuleExists</span><span class="hl-1">(</span><span class="hl-6">modulePath</span><span class="hl-1">)</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-4">async</span><span class="hl-1"> </span><span class="hl-0">list</span><span class="hl-1">(</span><span class="hl-6">prefix</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">// Return available modules for autocomplete</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">getAvailableModules</span><span class="hl-1">(</span><span class="hl-6">prefix</span><span class="hl-1">)</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">interpreter</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">WangInterpreter</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">moduleResolver:</span><span class="hl-1"> </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">MyCustomResolver</span><span class="hl-1">()</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<h3 id="built-in-resolvers" class="tsd-anchor-link">Built-in Resolvers<a href="#built-in-resolvers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>InMemoryModuleResolver</strong> - Store modules in memory (great for testing)</li>
<li><strong>IndexedDBModuleResolver</strong> - Persist modules in browser storage</li>
<li><strong>HTTPModuleResolver</strong> - Load modules from URLs</li>
<li><strong>CompositeModuleResolver</strong> - Chain multiple resolvers with fallback</li>
</ul>
<h2 id="browser-automation-example" class="tsd-anchor-link">Browser Automation Example<a href="#browser-automation-example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="javascript"><span class="hl-3">// Define a workflow module</span><br/><span class="hl-6">resolver</span><span class="hl-1">.</span><span class="hl-0">addModule</span><span class="hl-1">(</span><span class="hl-2">&#39;linkedin-workflow&#39;</span><span class="hl-1">, </span><span class="hl-2">`</span><br/><span class="hl-2">  export async function extractProfiles() {</span><br/><span class="hl-2">    let profiles = querySelectorAll(&quot;.profile-card&quot;)</span><br/><span class="hl-2">    let results = []</span><br/><span class="hl-2">    </span><br/><span class="hl-2">    for (let profile of profiles) {</span><br/><span class="hl-2">      let nameEl = querySelector(profile, &quot;.name&quot;)</span><br/><span class="hl-2">      let nameText = getText(nameEl)</span><br/><span class="hl-2">      let titleEl = querySelector(profile, &quot;.title&quot;)</span><br/><span class="hl-2">      let titleText = getText(titleEl)</span><br/><span class="hl-2">      let companyEl = querySelector(profile, &quot;.company&quot;)</span><br/><span class="hl-2">      let companyText = getText(companyEl)</span><br/><span class="hl-2">      </span><br/><span class="hl-2">      let data = {</span><br/><span class="hl-2">        name: trim(replace(nameText, /[^</span><span class="hl-14">\w\s</span><span class="hl-2">]/g, &quot;&quot;)),  // Clean name</span><br/><span class="hl-2">        title: match(titleText, /^([^@]+)/)?.[1] || titleText, // Extract title before @</span><br/><span class="hl-2">        company: trim(replace(companyText, /</span><span class="hl-14">\s</span><span class="hl-2">+/g, &quot; &quot;)), // Normalize whitespace</span><br/><span class="hl-2">        isVerified: querySelector(profile, &quot;.verified-badge&quot;) !== null</span><br/><span class="hl-2">      }</span><br/><span class="hl-2">      </span><br/><span class="hl-2">      // Skip profiles without email patterns in title/company  </span><br/><span class="hl-2">      if (titleText.match(/@/) || companyText.match(/</span><span class="hl-14">\.</span><span class="hl-2">(com|org|net)/i)) {</span><br/><span class="hl-2">        results.push(data)</span><br/><span class="hl-2">      }</span><br/><span class="hl-2">      </span><br/><span class="hl-2">      await wait(1000)  // Rate limiting</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">    </span><br/><span class="hl-2">    return results</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">`</span><span class="hl-1">)</span><br/><br/><span class="hl-3">// Bind DOM functions</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">interpreter</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">WangInterpreter</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">moduleResolver:</span><span class="hl-1"> </span><span class="hl-6">resolver</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">functions:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">querySelectorAll</span><span class="hl-6">:</span><span class="hl-1"> (</span><span class="hl-6">sel</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> [...</span><span class="hl-6">document</span><span class="hl-1">.</span><span class="hl-0">querySelectorAll</span><span class="hl-1">(</span><span class="hl-6">sel</span><span class="hl-1">)],</span><br/><span class="hl-1">    </span><span class="hl-0">querySelector</span><span class="hl-6">:</span><span class="hl-1"> (</span><span class="hl-6">el</span><span class="hl-1">, </span><span class="hl-6">sel</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">el</span><span class="hl-1">.</span><span class="hl-0">querySelector</span><span class="hl-1">(</span><span class="hl-6">sel</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-0">getText</span><span class="hl-6">:</span><span class="hl-1"> (</span><span class="hl-6">el</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">el</span><span class="hl-1">?.</span><span class="hl-6">innerText</span><span class="hl-1"> || </span><span class="hl-2">&quot;&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">replace</span><span class="hl-6">:</span><span class="hl-1"> (</span><span class="hl-6">str</span><span class="hl-1">, </span><span class="hl-6">pattern</span><span class="hl-1">, </span><span class="hl-6">replacement</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">str</span><span class="hl-1">.</span><span class="hl-0">replace</span><span class="hl-1">(</span><span class="hl-6">pattern</span><span class="hl-1">, </span><span class="hl-6">replacement</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-0">match</span><span class="hl-6">:</span><span class="hl-1"> (</span><span class="hl-6">str</span><span class="hl-1">, </span><span class="hl-6">pattern</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">str</span><span class="hl-1">.</span><span class="hl-0">match</span><span class="hl-1">(</span><span class="hl-6">pattern</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-0">trim</span><span class="hl-6">:</span><span class="hl-1"> (</span><span class="hl-6">str</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">str</span><span class="hl-1">.</span><span class="hl-0">trim</span><span class="hl-1">(),</span><br/><span class="hl-1">    </span><span class="hl-0">wait</span><span class="hl-6">:</span><span class="hl-1"> (</span><span class="hl-6">ms</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-15">Promise</span><span class="hl-1">(</span><span class="hl-6">r</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">setTimeout</span><span class="hl-1">(</span><span class="hl-6">r</span><span class="hl-1">, </span><span class="hl-6">ms</span><span class="hl-1">))</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-3">// Execute the workflow</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">execute</span><span class="hl-1">(</span><span class="hl-2">`</span><br/><span class="hl-2">  import { extractProfiles } from &quot;linkedin-workflow&quot;</span><br/><span class="hl-2">  </span><br/><span class="hl-2">  let profiles = await extractProfiles()</span><br/><span class="hl-2">  log(</span><span class="hl-14">\`</span><span class="hl-2">Found </span><span class="hl-14">\$</span><span class="hl-2">{profiles.length} profiles</span><span class="hl-14">\`</span><span class="hl-2">)</span><br/><span class="hl-2">`</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<h2 id="syntax-highlighting" class="tsd-anchor-link">Syntax Highlighting<a href="#syntax-highlighting" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Wang has syntax highlighting support for popular code editors:</p>
<h3 id="monaco-editor-web" class="tsd-anchor-link">Monaco Editor (Web)<a href="#monaco-editor-web" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">registerWangLanguage</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;wang-lang/editor/monaco&#39;</span><br/><br/><span class="hl-3">// After Monaco loads</span><br/><span class="hl-0">registerWangLanguage</span><span class="hl-1">(</span><span class="hl-6">monaco</span><span class="hl-1">)</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">editor</span><span class="hl-1"> = </span><span class="hl-6">monaco</span><span class="hl-1">.</span><span class="hl-6">editor</span><span class="hl-1">.</span><span class="hl-0">create</span><span class="hl-1">(</span><span class="hl-6">container</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-6">value:</span><span class="hl-1"> </span><span class="hl-6">wangCode</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">language:</span><span class="hl-1"> </span><span class="hl-2">&#39;wang&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">theme:</span><span class="hl-1"> </span><span class="hl-2">&#39;vs-dark&#39;</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<h3 id="vs-code-extension" class="tsd-anchor-link">VS Code Extension<a href="#vs-code-extension" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Install the Wang language extension from the VS Code marketplace or build from source:</p>
<pre><code class="bash"><span class="hl-3"># Build the extension</span><br/><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-2">syntaxes</span><br/><span class="hl-0">vsce</span><span class="hl-1"> </span><span class="hl-2">package</span><br/><br/><span class="hl-3"># Install the .vsix file in VS Code</span>
</code><button type="button">Copy</button></pre>

<h3 id="codemirror" class="tsd-anchor-link">CodeMirror<a href="#codemirror" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">wangLanguage</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;wang-lang/editor/codemirror&#39;</span><br/><span class="hl-3">// Use with CodeMirror 6</span>
</code><button type="button">Copy</button></pre>

<p>See <a href="media/SYNTAX_HIGHLIGHTING.md">SYNTAX_HIGHLIGHTING.md</a> for detailed setup instructions.</p>
<h2 id="pausable-execution-state-serialization" class="tsd-anchor-link">Pausable Execution &amp; State Serialization<a href="#pausable-execution-state-serialization" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Wang includes a <code>PausableWangInterpreter</code> that extends the base interpreter with pause/resume capabilities and state serialization:</p>
<h3 id="pause-and-resume-execution" class="tsd-anchor-link">Pause and Resume Execution<a href="#pause-and-resume-execution" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">PausableWangInterpreter</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;wang-lang&#39;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">interpreter</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">PausableWangInterpreter</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">functions:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">fetchData</span><span class="hl-6">:</span><span class="hl-1"> </span><span class="hl-4">async</span><span class="hl-1"> (</span><span class="hl-6">id</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-3">// Simulate async work</span><br/><span class="hl-1">      </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-15">Promise</span><span class="hl-1">(</span><span class="hl-6">r</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">setTimeout</span><span class="hl-1">(</span><span class="hl-6">r</span><span class="hl-1">, </span><span class="hl-8">100</span><span class="hl-1">))</span><br/><span class="hl-1">      </span><span class="hl-5">return</span><span class="hl-1"> { </span><span class="hl-6">id</span><span class="hl-1">, </span><span class="hl-6">data:</span><span class="hl-1"> </span><span class="hl-2">`Data </span><span class="hl-4">${</span><span class="hl-6">id</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-1"> }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-3">// Start long-running execution</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">promise</span><span class="hl-1"> = </span><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">execute</span><span class="hl-1">(</span><span class="hl-2">`</span><br/><span class="hl-2">  let results = []</span><br/><span class="hl-2">  for (let i = 1; i &lt;= 100; i = i + 1) {</span><br/><span class="hl-2">    let data = await fetchData(i)</span><br/><span class="hl-2">    results.push(data)</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">  results</span><br/><span class="hl-2">`</span><span class="hl-1">)</span><br/><br/><span class="hl-3">// Pause execution after some time</span><br/><span class="hl-0">setTimeout</span><span class="hl-1">(() </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">isRunning</span><span class="hl-1">()) {</span><br/><span class="hl-1">    </span><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">pause</span><span class="hl-1">()</span><br/><span class="hl-1">    </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Paused at:&#39;</span><span class="hl-1">, </span><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">getCurrentVariables</span><span class="hl-1">())</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}, </span><span class="hl-8">500</span><span class="hl-1">)</span><br/><br/><span class="hl-3">// Resume later</span><br/><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">isPaused</span><span class="hl-1">()) {</span><br/><span class="hl-1">  </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">resume</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Completed:&#39;</span><span class="hl-1">, </span><span class="hl-6">result</span><span class="hl-1">)</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="state-serialization" class="tsd-anchor-link">State Serialization<a href="#state-serialization" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Save and restore the complete interpreter state:</p>
<pre><code class="javascript"><span class="hl-3">// Execute some code to build state</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">execute</span><span class="hl-1">(</span><span class="hl-2">`</span><br/><span class="hl-2">  let gameState = {</span><br/><span class="hl-2">    player: { name: &quot;Alice&quot;, score: 100 },</span><br/><span class="hl-2">    level: 5,</span><br/><span class="hl-2">    inventory: [&quot;sword&quot;, &quot;shield&quot;]</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">  </span><br/><span class="hl-2">  function updateScore(points) {</span><br/><span class="hl-2">    gameState.player.score += points</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">`</span><span class="hl-1">)</span><br/><br/><span class="hl-3">// Start a process</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">promise</span><span class="hl-1"> = </span><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">execute</span><span class="hl-1">(</span><span class="hl-2">`</span><br/><span class="hl-2">  for (let round = 1; round &lt;= 20; round = round + 1) {</span><br/><span class="hl-2">    updateScore(round * 10)</span><br/><span class="hl-2">    if (round === 10) {</span><br/><span class="hl-2">      log(&quot;Checkpoint!&quot;)</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">  gameState</span><br/><span class="hl-2">`</span><span class="hl-1">)</span><br/><br/><span class="hl-3">// Pause at checkpoint</span><br/><span class="hl-0">setTimeout</span><span class="hl-1">(() </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">pause</span><span class="hl-1">(), </span><span class="hl-8">200</span><span class="hl-1">)</span><br/><br/><span class="hl-3">// Save state to JSON</span><br/><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">isPaused</span><span class="hl-1">()) {</span><br/><span class="hl-1">  </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">serialized</span><span class="hl-1"> = </span><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">serialize</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-3">// Save to file, database, etc.</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">saveToFile</span><span class="hl-1">(</span><span class="hl-2">&#39;game-state.json&#39;</span><span class="hl-1">, </span><span class="hl-6">serialized</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-3">// Later, restore from saved state</span><br/><span class="hl-1">  </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">savedState</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">loadFromFile</span><span class="hl-1">(</span><span class="hl-2">&#39;game-state.json&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">restored</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">PausableWangInterpreter</span><span class="hl-1">.</span><span class="hl-0">deserialize</span><span class="hl-1">(</span><span class="hl-6">savedState</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-6">functions:</span><span class="hl-1"> { </span><span class="hl-3">/* re-bind custom functions */</span><span class="hl-1"> }</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-3">// Continue execution from saved point</span><br/><span class="hl-1">  </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">restored</span><span class="hl-1">.</span><span class="hl-0">resume</span><span class="hl-1">()</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="execution-state-api" class="tsd-anchor-link">Execution State API<a href="#execution-state-api" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Monitor and control execution:</p>
<pre><code class="javascript"><span class="hl-3">// Check execution state</span><br/><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">isRunning</span><span class="hl-1">()   </span><span class="hl-3">// true during execution</span><br/><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">isPaused</span><span class="hl-1">()    </span><span class="hl-3">// true when paused</span><br/><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">isCompleted</span><span class="hl-1">() </span><span class="hl-3">// true after completion</span><br/><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">hasError</span><span class="hl-1">()    </span><span class="hl-3">// true if error occurred</span><br/><br/><span class="hl-3">// Get execution information</span><br/><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">getExecutionState</span><span class="hl-1">()     </span><span class="hl-3">// Full state object</span><br/><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">getCallStackTrace</span><span class="hl-1">()      </span><span class="hl-3">// Current call stack</span><br/><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">getCurrentVariables</span><span class="hl-1">()    </span><span class="hl-3">// All accessible variables</span><br/><br/><span class="hl-3">// Control execution</span><br/><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">pause</span><span class="hl-1">()   </span><span class="hl-3">// Request pause at next checkpoint</span><br/><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">resume</span><span class="hl-1">()  </span><span class="hl-3">// Continue from pause point</span>
</code><button type="button">Copy</button></pre>

<h2 id="metadata-api" class="tsd-anchor-link">Metadata API<a href="#metadata-api" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Wang provides a comprehensive metadata API that captures and exposes compilation, interpretation, and execution data:</p>
<pre><code class="javascript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">WangInterpreter</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;wang-lang&#39;</span><br/><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">MetadataCollector</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;wang-lang/metadata&#39;</span><br/><br/><span class="hl-3">// Create interpreter with metadata collection</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">collector</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">MetadataCollector</span><span class="hl-1">()</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">interpreter</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">WangInterpreter</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">onNodeVisit</span><span class="hl-6">:</span><span class="hl-1"> (</span><span class="hl-6">node</span><span class="hl-1">, </span><span class="hl-6">depth</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">collector</span><span class="hl-1">.</span><span class="hl-0">onNodeVisit</span><span class="hl-1">(</span><span class="hl-6">node</span><span class="hl-1">, </span><span class="hl-6">depth</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-0">onFunctionCall</span><span class="hl-6">:</span><span class="hl-1"> (</span><span class="hl-6">name</span><span class="hl-1">, </span><span class="hl-6">args</span><span class="hl-1">, </span><span class="hl-6">node</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">collector</span><span class="hl-1">.</span><span class="hl-0">onFunctionCall</span><span class="hl-1">(</span><span class="hl-6">name</span><span class="hl-1">, </span><span class="hl-6">args</span><span class="hl-1">, </span><span class="hl-6">node</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-0">onVariableAccess</span><span class="hl-6">:</span><span class="hl-1"> (</span><span class="hl-6">name</span><span class="hl-1">, </span><span class="hl-6">type</span><span class="hl-1">, </span><span class="hl-6">value</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">collector</span><span class="hl-1">.</span><span class="hl-0">onVariableAccess</span><span class="hl-1">(</span><span class="hl-6">name</span><span class="hl-1">, </span><span class="hl-6">type</span><span class="hl-1">, </span><span class="hl-6">value</span><span class="hl-1">)</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-3">// Execute code with metadata collection</span><br/><span class="hl-6">collector</span><span class="hl-1">.</span><span class="hl-0">onExecutionStart</span><span class="hl-1">()</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">execute</span><span class="hl-1">(</span><span class="hl-6">code</span><span class="hl-1">)</span><br/><span class="hl-6">collector</span><span class="hl-1">.</span><span class="hl-0">onExecutionEnd</span><span class="hl-1">()</span><br/><br/><span class="hl-3">// Get comprehensive metadata</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">metadata</span><span class="hl-1"> = </span><span class="hl-6">collector</span><span class="hl-1">.</span><span class="hl-0">getMetadata</span><span class="hl-1">()</span><br/><br/><span class="hl-3">// Query execution insights</span><br/><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Hot functions:&#39;</span><span class="hl-1">, </span><span class="hl-6">metadata</span><span class="hl-1">.</span><span class="hl-0">getHotFunctions</span><span class="hl-1">(</span><span class="hl-8">5</span><span class="hl-1">))</span><br/><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Variable access patterns:&#39;</span><span class="hl-1">, </span><span class="hl-6">metadata</span><span class="hl-1">.</span><span class="hl-0">getHotVariables</span><span class="hl-1">(</span><span class="hl-8">5</span><span class="hl-1">))</span><br/><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Execution path:&#39;</span><span class="hl-1">, </span><span class="hl-6">metadata</span><span class="hl-1">.</span><span class="hl-0">getExecutionPath</span><span class="hl-1">())</span><br/><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Performance summary:&#39;</span><span class="hl-1">, </span><span class="hl-6">metadata</span><span class="hl-1">.</span><span class="hl-0">getExecutionSummary</span><span class="hl-1">())</span><br/><br/><span class="hl-3">// Export for external tools</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">json</span><span class="hl-1"> = </span><span class="hl-6">collector</span><span class="hl-1">.</span><span class="hl-0">export</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

<h3 id="metadata-categories" class="tsd-anchor-link">Metadata Categories<a href="#metadata-categories" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>Compilation Phase</strong>: Tokens, AST nodes, parse timing, source mapping</li>
<li><strong>Interpretation Phase</strong>: Module resolution, symbol tables, dependency graphs</li>
<li><strong>Execution Phase</strong>: Call tracking, variable access, control flow, method chaining</li>
<li><strong>Runtime Data</strong>: Live variables, execution path, current position, event stream</li>
</ul>
<h2 id="language-support" class="tsd-anchor-link">Language Support<a href="#language-support" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="‚úÖ-fully-supported-features" class="tsd-anchor-link">‚úÖ Fully Supported Features<a href="#‚úÖ-fully-supported-features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Wang supports all core JavaScript features for workflow automation:</p>
<ul>
<li><strong>Variables &amp; Scoping</strong>: <code>let</code>, <code>const</code>, <code>var</code> with proper hoisting and block scoping</li>
<li><strong>Functions</strong>: Regular functions, arrow functions, async/await, closures, recursion</li>
<li><strong>Classes</strong>: Constructors, methods, inheritance with <code>super()</code>, static methods, getters/setters</li>
<li><strong>Control Flow</strong>: <code>if/else</code>, loops (<code>for</code>, <code>for-in</code>, <code>for-of</code>, <code>while</code>, <code>do-while</code>), <code>try/catch/finally</code>, ternary operator (<code>? :</code>)</li>
<li><strong>Operators</strong>: All standard JavaScript operators - arithmetic, comparison, logical, increment/decrement (<code>++</code>, <code>--</code>), compound assignment (<code>+=</code>, <code>-=</code>, <code>*=</code>, <code>/=</code>), ternary (<code>? :</code>)</li>
<li><strong>Regular Expressions</strong>: Full regex literal syntax (<code>/pattern/flags</code>) with all JavaScript flags (<code>g</code>, <code>i</code>, <code>m</code>, <code>s</code>, <code>u</code>, <code>y</code>)</li>
<li><strong>Data Types</strong>: Objects, arrays, destructuring, template literals, spread/rest parameters, JSON-like multiline objects</li>
<li><strong>Modules</strong>: Named imports/exports (<code>import { name } from &quot;module&quot;</code>)</li>
<li><strong>Async</strong>: Promises, async/await, error handling</li>
<li><strong>Built-ins</strong>: Error constructor, type conversion functions, array methods, native constructor support (KeyboardEvent, MouseEvent, etc.)</li>
</ul>
<h3 id="‚ö†Ô∏è-intentionally-unsupported-features" class="tsd-anchor-link">‚ö†Ô∏è Intentionally Unsupported Features<a href="#‚ö†Ô∏è-intentionally-unsupported-features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Some advanced JavaScript features are intentionally unsupported to maintain implementation simplicity. See <a href="media/UNSUPPORTED_FEATURES.md"><code>UNSUPPORTED_FEATURES.md</code></a> for full details:</p>
<ul>
<li><strong>Private fields</strong> (<code>#field</code>) - Use <code>_private</code> naming conventions</li>
<li><strong>Default imports</strong> (<code>import name from</code>) - Use named imports instead</li>
<li><strong>Async generators</strong> (<code>async function*</code>) - Use regular async functions</li>
<li><strong>Tagged templates</strong> (<code>tag`template`</code>) - Use function calls instead</li>
<li><strong>Destructuring defaults</strong> in parameters - Handle defaults manually</li>
</ul>
<p>All unsupported features have clear workarounds using supported syntax.</p>
<h2 id="testing" class="tsd-anchor-link">Testing<a href="#testing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Wang achieves <strong>99.6% test coverage</strong> with comprehensive testing:</p>
<pre><code class="bash"><span class="hl-3"># Run all tests (569/571 passing)</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">test</span><br/><br/><span class="hl-3"># Watch mode for development  </span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">test:watch</span><br/><br/><span class="hl-3"># Generate coverage report</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">test:coverage</span><br/><br/><span class="hl-3"># Run tests with UI</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">test:ui</span>
</code><button type="button">Copy</button></pre>

<p><strong>Test Results</strong>: 569/571 tests passing (99.6% coverage), including:</p>
<ul>
<li>Comprehensive language features (classes, async/await, modules)</li>
<li>Advanced method chaining and functional programming</li>
<li>Full regular expression support with all JavaScript features</li>
<li>Full standard library coverage (70+ functions)</li>
<li>Compound assignment and increment/decrement operators</li>
<li>Edge cases and error handling</li>
</ul>
<h2 id="development" class="tsd-anchor-link">Development<a href="#development" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-3"># Install dependencies</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><br/><br/><span class="hl-3"># Build the grammar (Nearley parser)</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">build:grammar</span><br/><br/><span class="hl-3"># Build the package (ESM, CJS, and browser bundles)</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">build</span><br/><br/><span class="hl-3"># Run tests</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">test</span><br/><br/><span class="hl-3"># Run linter</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">lint</span><br/><br/><span class="hl-3"># Format code</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">format</span><br/><br/><span class="hl-3"># Type checking</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">typecheck</span><br/><br/><span class="hl-3"># Generate documentation</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">docs</span>
</code><button type="button">Copy</button></pre>

<h2 id="project-structure" class="tsd-anchor-link">Project Structure<a href="#project-structure" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code><span class="hl-6">wang</span><span class="hl-1">/</span><br/><span class="hl-1">‚îú‚îÄ‚îÄ </span><span class="hl-6">src</span><span class="hl-1">/</span><br/><span class="hl-1">‚îÇ   ‚îú‚îÄ‚îÄ </span><span class="hl-6">grammar</span><span class="hl-1">/          # </span><span class="hl-6">Nearley</span><span class="hl-1"> </span><span class="hl-6">grammar</span><span class="hl-1"> </span><span class="hl-6">definition</span><br/><span class="hl-1">‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ </span><span class="hl-6">wang</span><span class="hl-1">.</span><span class="hl-6">ne</span><span class="hl-1">       # </span><span class="hl-6">Grammar</span><span class="hl-1"> </span><span class="hl-0">rules</span><span class="hl-1"> (</span><span class="hl-6">zero</span><span class="hl-1"> </span><span class="hl-6">ambiguity</span><span class="hl-1">!)</span><br/><span class="hl-1">‚îÇ   ‚îú‚îÄ‚îÄ </span><span class="hl-6">interpreter</span><span class="hl-1">/      # </span><span class="hl-6">Core</span><span class="hl-1"> </span><span class="hl-6">interpreter</span><br/><span class="hl-1">‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ </span><span class="hl-6">index</span><span class="hl-1">.</span><span class="hl-6">ts</span><span class="hl-1">      # </span><span class="hl-6">Main</span><span class="hl-1"> </span><span class="hl-6">interpreter</span><span class="hl-1"> </span><span class="hl-5">with</span><span class="hl-1"> </span><span class="hl-6">proper</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1"> </span><span class="hl-6">binding</span><br/><span class="hl-1">‚îÇ   ‚îú‚îÄ‚îÄ </span><span class="hl-6">resolvers</span><span class="hl-1">/        # </span><span class="hl-6">Module</span><span class="hl-1"> </span><span class="hl-6">resolvers</span><br/><span class="hl-1">‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ </span><span class="hl-6">memory</span><span class="hl-1">.</span><span class="hl-6">ts</span><span class="hl-1">     # </span><span class="hl-6">In</span><span class="hl-1">-</span><span class="hl-6">memory</span><span class="hl-1"> </span><span class="hl-6">resolver</span><br/><span class="hl-1">‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ </span><span class="hl-6">indexeddb</span><span class="hl-1">.</span><span class="hl-6">ts</span><span class="hl-1">  # </span><span class="hl-6">Browser</span><span class="hl-1"> </span><span class="hl-6">storage</span><span class="hl-1"> </span><span class="hl-6">resolver</span><br/><span class="hl-1">‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ </span><span class="hl-6">http</span><span class="hl-1">.</span><span class="hl-6">ts</span><span class="hl-1">       # </span><span class="hl-7">HTTP</span><span class="hl-1"> </span><span class="hl-6">resolver</span><br/><span class="hl-1">‚îÇ   ‚îî‚îÄ‚îÄ </span><span class="hl-6">utils</span><span class="hl-1">/            # </span><span class="hl-6">Utilities</span><br/><span class="hl-1">‚îÇ       ‚îî‚îÄ‚îÄ </span><span class="hl-6">errors</span><span class="hl-1">.</span><span class="hl-6">ts</span><span class="hl-1">     # </span><span class="hl-6">Comprehensive</span><span class="hl-1"> </span><span class="hl-6">error</span><span class="hl-1"> </span><span class="hl-6">handling</span><br/><span class="hl-1">‚îú‚îÄ‚îÄ </span><span class="hl-6">tests</span><span class="hl-1">/</span><br/><span class="hl-1">‚îÇ   ‚îú‚îÄ‚îÄ </span><span class="hl-6">unit</span><span class="hl-1">/            # </span><span class="hl-6">Unit</span><span class="hl-1"> </span><span class="hl-6">tests</span><br/><span class="hl-1">‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ </span><span class="hl-6">parser</span><span class="hl-1">.</span><span class="hl-6">test</span><span class="hl-1">.</span><span class="hl-6">js</span><span class="hl-1">    # </span><span class="hl-6">Parser</span><span class="hl-1"> </span><span class="hl-0">tests</span><span class="hl-1"> (</span><span class="hl-8">13</span><span class="hl-1"> </span><span class="hl-6">tests</span><span class="hl-1">)</span><br/><span class="hl-1">‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ </span><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-6">test</span><span class="hl-1">.</span><span class="hl-6">js</span><span class="hl-1"> # </span><span class="hl-6">Interpreter</span><span class="hl-1"> </span><span class="hl-0">tests</span><span class="hl-1"> (</span><span class="hl-8">25</span><span class="hl-1"> </span><span class="hl-6">tests</span><span class="hl-1">)</span><br/><span class="hl-1">‚îÇ   ‚îú‚îÄ‚îÄ </span><span class="hl-6">e2e</span><span class="hl-1">/             # </span><span class="hl-6">End</span><span class="hl-1">-</span><span class="hl-6">to</span><span class="hl-1">-</span><span class="hl-6">end</span><span class="hl-1"> </span><span class="hl-6">tests</span><br/><span class="hl-1">‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ </span><span class="hl-6">language</span><span class="hl-1">-</span><span class="hl-6">features</span><span class="hl-1">.</span><span class="hl-6">test</span><span class="hl-1">.</span><span class="hl-6">js</span><span class="hl-1"> # </span><span class="hl-6">Comprehensive</span><span class="hl-1"> </span><span class="hl-6">language</span><span class="hl-1"> </span><span class="hl-0">tests</span><span class="hl-1"> (</span><span class="hl-8">48</span><span class="hl-1"> </span><span class="hl-6">tests</span><span class="hl-1">)</span><br/><span class="hl-1">‚îÇ   ‚îî‚îÄ‚îÄ </span><span class="hl-6">test</span><span class="hl-1">-</span><span class="hl-6">utils</span><span class="hl-1">.</span><span class="hl-6">js</span><span class="hl-1">    # </span><span class="hl-6">Test</span><span class="hl-1"> </span><span class="hl-6">utilities</span><br/><span class="hl-1">‚îú‚îÄ‚îÄ </span><span class="hl-6">dist</span><span class="hl-1">/                # </span><span class="hl-6">Built</span><span class="hl-1"> </span><span class="hl-6">files</span><br/><span class="hl-1">‚îÇ   ‚îú‚îÄ‚îÄ </span><span class="hl-6">esm</span><span class="hl-1">/            # </span><span class="hl-7">ES</span><span class="hl-1"> </span><span class="hl-6">modules</span><br/><span class="hl-1">‚îÇ   ‚îú‚îÄ‚îÄ </span><span class="hl-6">cjs</span><span class="hl-1">/            # </span><span class="hl-6">CommonJS</span><br/><span class="hl-1">‚îÇ   ‚îî‚îÄ‚îÄ </span><span class="hl-6">browser</span><span class="hl-1">/        # </span><span class="hl-6">Browser</span><span class="hl-1"> </span><span class="hl-6">bundle</span><br/><span class="hl-1">‚îî‚îÄ‚îÄ </span><span class="hl-6">vitest</span><span class="hl-1">.</span><span class="hl-6">config</span><span class="hl-1">.</span><span class="hl-6">js</span><span class="hl-1">    # </span><span class="hl-6">Vitest</span><span class="hl-1"> </span><span class="hl-6">configuration</span>
</code><button>Copy</button></pre>

<h2 id="grammar-highlights" class="tsd-anchor-link">Grammar Highlights<a href="#grammar-highlights" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The Wang grammar is <strong>completely deterministic</strong> with zero ambiguity:</p>
<ul>
<li>Requires semicolons for statement separation (no ASI ambiguity)</li>
<li>Separate expression rules for different contexts</li>
<li>Proper precedence and associativity</li>
<li>Clean separation between statements and expressions</li>
<li>Proper typeof operator handling for hoisted variables</li>
<li>Memory-efficient circular module dependency resolution</li>
</ul>
<h2 id="csp-safety" class="tsd-anchor-link">CSP Safety<a href="#csp-safety" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Wang is designed to run in Content Security Policy restricted environments where <code>eval()</code> and <code>new Function()</code> are blocked:</p>
<pre><code class="html"><span class="hl-3">&lt;!-- Strict CSP that blocks eval --&gt;</span><br/><span class="hl-16">&lt;</span><span class="hl-17">meta</span><span class="hl-1"> </span><span class="hl-18">http-equiv</span><span class="hl-1">=</span><span class="hl-19">&quot;Content-Security-Policy&quot;</span><span class="hl-1"> </span><span class="hl-18">content</span><span class="hl-1">=</span><span class="hl-19">&quot;script-src &#39;self&#39;;&quot;</span><span class="hl-16">&gt;</span><br/><br/><span class="hl-16">&lt;</span><span class="hl-17">script</span><span class="hl-9"> </span><span class="hl-18">type</span><span class="hl-9">=</span><span class="hl-19">&quot;module&quot;</span><span class="hl-16">&gt;</span><br/><span class="hl-9">  </span><span class="hl-5">import</span><span class="hl-9"> { </span><span class="hl-6">WangInterpreter</span><span class="hl-9"> } </span><span class="hl-5">from</span><span class="hl-9"> </span><span class="hl-2">&#39;@wang-lang/core&#39;</span><br/><span class="hl-9">  </span><br/><span class="hl-9">  </span><span class="hl-3">// This works even with strict CSP!</span><br/><span class="hl-9">  </span><span class="hl-4">const</span><span class="hl-9"> </span><span class="hl-7">interpreter</span><span class="hl-9"> </span><span class="hl-1">=</span><span class="hl-9"> </span><span class="hl-4">new</span><span class="hl-9"> </span><span class="hl-0">WangInterpreter</span><span class="hl-9">()</span><br/><span class="hl-9">  </span><span class="hl-5">await</span><span class="hl-9"> </span><span class="hl-6">interpreter</span><span class="hl-9">.</span><span class="hl-0">execute</span><span class="hl-9">(</span><span class="hl-2">&#39;log(&quot;Hello from Wang!&quot;)&#39;</span><span class="hl-9">)</span><br/><span class="hl-16">&lt;/</span><span class="hl-17">script</span><span class="hl-16">&gt;</span>
</code><button type="button">Copy</button></pre>

<h2 id="browser-compatibility" class="tsd-anchor-link">Browser Compatibility<a href="#browser-compatibility" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>Chrome 90+</li>
<li>Firefox 88+</li>
<li>Safari 14+</li>
<li>Edge 90+</li>
</ul>
<p>Works in:</p>
<ul>
<li>‚úÖ Browser main thread</li>
<li>‚úÖ Web Workers</li>
<li>‚úÖ Service Workers</li>
<li>‚úÖ Chrome Extensions (with CSP)</li>
<li>‚úÖ Electron apps</li>
</ul>
<h2 id="performance" class="tsd-anchor-link">Performance<a href="#performance" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><strong>Zero-ambiguity grammar</strong> ensures fast, predictable parsing</li>
<li><strong>No code generation</strong> means no JIT compilation overhead</li>
<li><strong>Direct AST interpretation</strong> for consistent performance</li>
<li><strong>Module caching</strong> for efficient imports</li>
</ul>
<h2 id="api-documentation" class="tsd-anchor-link">API Documentation<a href="#api-documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="wanginterpreter" class="tsd-anchor-link">WangInterpreter<a href="#wanginterpreter" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The main interpreter class.</p>
<pre><code class="typescript"><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-15">WangInterpreter</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">constructor</span><span class="hl-1">(</span><span class="hl-6">options</span><span class="hl-1">?: {</span><br/><span class="hl-1">    </span><span class="hl-6">moduleResolver</span><span class="hl-1">?: </span><span class="hl-15">ModuleResolver</span><br/><span class="hl-1">    </span><span class="hl-6">functions</span><span class="hl-1">?: </span><span class="hl-15">Record</span><span class="hl-1">&lt;</span><span class="hl-15">string</span><span class="hl-1">, </span><span class="hl-15">Function</span><span class="hl-1">&gt;</span><br/><span class="hl-1">    </span><span class="hl-6">globalContext</span><span class="hl-1">?: </span><span class="hl-15">ExecutionContext</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-3">// Default: returns execution result</span><br/><span class="hl-1">  </span><span class="hl-0">execute</span><span class="hl-1">(</span><span class="hl-6">code</span><span class="hl-1">: </span><span class="hl-15">string</span><span class="hl-1">, </span><span class="hl-6">context</span><span class="hl-1">?: </span><span class="hl-15">ExecutionContext</span><span class="hl-1">): </span><span class="hl-15">Promise</span><span class="hl-1">&lt;</span><span class="hl-15">any</span><span class="hl-1">&gt;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-3">// With metadata: returns result and captured console logs (v0.12.0+)</span><br/><span class="hl-1">  </span><span class="hl-0">execute</span><span class="hl-1">(</span><span class="hl-6">code</span><span class="hl-1">: </span><span class="hl-15">string</span><span class="hl-1">, </span><span class="hl-6">context</span><span class="hl-1">?: </span><span class="hl-15">ExecutionContext</span><span class="hl-1">, </span><span class="hl-6">options</span><span class="hl-1">?: { </span><span class="hl-6">withMetadata</span><span class="hl-1">: </span><span class="hl-15">true</span><span class="hl-1"> }): </span><br/><span class="hl-1">    </span><span class="hl-15">Promise</span><span class="hl-1">&lt;{ </span><span class="hl-6">result</span><span class="hl-1">: </span><span class="hl-15">any</span><span class="hl-1">; </span><span class="hl-6">metadata</span><span class="hl-1">: { </span><span class="hl-6">logs</span><span class="hl-1">: </span><span class="hl-15">ConsoleLog</span><span class="hl-1">[] } }&gt;</span><br/><span class="hl-1">    </span><br/><span class="hl-1">  </span><span class="hl-0">bindFunction</span><span class="hl-1">(</span><span class="hl-6">name</span><span class="hl-1">: </span><span class="hl-15">string</span><span class="hl-1">, </span><span class="hl-0">fn</span><span class="hl-1">: </span><span class="hl-15">Function</span><span class="hl-1">): </span><span class="hl-15">void</span><br/><span class="hl-1">  </span><span class="hl-0">setVariable</span><span class="hl-1">(</span><span class="hl-6">name</span><span class="hl-1">: </span><span class="hl-15">string</span><span class="hl-1">, </span><span class="hl-6">value</span><span class="hl-1">: </span><span class="hl-15">any</span><span class="hl-1">): </span><span class="hl-15">void</span><span class="hl-1">  </span><span class="hl-3">// v0.11.1+</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h4 id="console-capture-v0120" class="tsd-anchor-link">Console Capture (v0.12.0+)<a href="#console-capture-v0120" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The <code>execute()</code> method can capture all console output from Wang code when using the <code>withMetadata</code> option:</p>
<pre><code class="javascript"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">interpreter</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">WangInterpreter</span><span class="hl-1">()</span><br/><br/><span class="hl-3">// Capture console logs with metadata</span><br/><span class="hl-4">const</span><span class="hl-1"> { </span><span class="hl-7">result</span><span class="hl-1">, </span><span class="hl-7">metadata</span><span class="hl-1"> } = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">execute</span><span class="hl-1">(</span><span class="hl-2">`</span><br/><span class="hl-2">  log(&quot;Processing started&quot;)</span><br/><span class="hl-2">  warn(&quot;Low memory&quot;)</span><br/><span class="hl-2">  error(&quot;Failed to connect&quot;)</span><br/><span class="hl-2">  </span><br/><span class="hl-2">  let data = [1, 2, 3]</span><br/><span class="hl-2">  log(&quot;Data:&quot;, data)</span><br/><span class="hl-2">  </span><br/><span class="hl-2">  data.reduce((sum, n) =&gt; sum + n, 0)</span><br/><span class="hl-2">`</span><span class="hl-1">, </span><span class="hl-4">undefined</span><span class="hl-1">, { </span><span class="hl-6">withMetadata:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1"> })</span><br/><br/><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-6">result</span><span class="hl-1">) </span><span class="hl-3">// 6</span><br/><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-6">metadata</span><span class="hl-1">.</span><span class="hl-6">logs</span><span class="hl-1">) </span><br/><span class="hl-3">// [</span><br/><span class="hl-3">//   { type: &#39;log&#39;, args: [&#39;Processing started&#39;], timestamp: 1234567890 },</span><br/><span class="hl-3">//   { type: &#39;warn&#39;, args: [&#39;Low memory&#39;], timestamp: 1234567891 },</span><br/><span class="hl-3">//   { type: &#39;error&#39;, args: [&#39;Failed to connect&#39;], timestamp: 1234567892 },</span><br/><span class="hl-3">//   { type: &#39;log&#39;, args: [&#39;Data:&#39;, [1, 2, 3]], timestamp: 1234567893 }</span><br/><span class="hl-3">// ]</span><br/><br/><span class="hl-3">// Process captured logs</span><br/><span class="hl-6">metadata</span><span class="hl-1">.</span><span class="hl-6">logs</span><span class="hl-1">.</span><span class="hl-0">forEach</span><span class="hl-1">(</span><span class="hl-6">log</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">switch</span><span class="hl-1">(</span><span class="hl-6">log</span><span class="hl-1">.</span><span class="hl-6">type</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-2">&#39;error&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-3">// Handle errors</span><br/><span class="hl-1">      </span><span class="hl-5">break</span><br/><span class="hl-1">    </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-2">&#39;warn&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-3">// Handle warnings</span><br/><span class="hl-1">      </span><span class="hl-5">break</span><br/><span class="hl-1">    </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-2">&#39;log&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-3">// Handle info logs</span><br/><span class="hl-1">      </span><span class="hl-5">break</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-3">// Default behavior (backward compatible) - no metadata</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">result2</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">execute</span><span class="hl-1">(</span><span class="hl-2">`log(&quot;Hello&quot;); 42`</span><span class="hl-1">)</span><br/><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-6">result2</span><span class="hl-1">) </span><span class="hl-3">// 42</span>
</code><button type="button">Copy</button></pre>

<h4 id="setting-variables" class="tsd-anchor-link">Setting Variables<a href="#setting-variables" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The <code>setVariable()</code> method (v0.11.1+) allows you to inject JavaScript objects and values directly into Wang's global scope:</p>
<pre><code class="javascript"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">interpreter</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">WangInterpreter</span><span class="hl-1">()</span><br/><br/><span class="hl-3">// Set JavaScript built-in objects</span><br/><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">setVariable</span><span class="hl-1">(</span><span class="hl-2">&#39;Math&#39;</span><span class="hl-1">, </span><span class="hl-6">Math</span><span class="hl-1">)</span><br/><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">setVariable</span><span class="hl-1">(</span><span class="hl-2">&#39;JSON&#39;</span><span class="hl-1">, </span><span class="hl-7">JSON</span><span class="hl-1">)</span><br/><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">setVariable</span><span class="hl-1">(</span><span class="hl-2">&#39;Object&#39;</span><span class="hl-1">, </span><span class="hl-6">Object</span><span class="hl-1">)</span><br/><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">setVariable</span><span class="hl-1">(</span><span class="hl-2">&#39;Array&#39;</span><span class="hl-1">, </span><span class="hl-6">Array</span><span class="hl-1">)</span><br/><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">setVariable</span><span class="hl-1">(</span><span class="hl-2">&#39;console&#39;</span><span class="hl-1">, </span><span class="hl-6">console</span><span class="hl-1">)</span><br/><br/><span class="hl-3">// Set custom objects</span><br/><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">setVariable</span><span class="hl-1">(</span><span class="hl-2">&#39;myAPI&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-6">baseURL:</span><span class="hl-1"> </span><span class="hl-2">&#39;https://api.example.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">getUser</span><span class="hl-6">:</span><span class="hl-1"> (</span><span class="hl-6">id</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">fetch</span><span class="hl-1">(</span><span class="hl-2">`/users/</span><span class="hl-4">${</span><span class="hl-6">id</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-6">data:</span><span class="hl-1"> [</span><span class="hl-8">1</span><span class="hl-1">, </span><span class="hl-8">2</span><span class="hl-1">, </span><span class="hl-8">3</span><span class="hl-1">]</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-3">// Now accessible in Wang code</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">interpreter</span><span class="hl-1">.</span><span class="hl-0">execute</span><span class="hl-1">(</span><span class="hl-2">`</span><br/><span class="hl-2">  let x = Math.abs(-10)</span><br/><span class="hl-2">  let data = JSON.stringify({ value: 42 })</span><br/><span class="hl-2">  let keys = Object.keys(myAPI)</span><br/><span class="hl-2">  console.log(&quot;API URL:&quot;, myAPI.baseURL)</span><br/><span class="hl-2">`</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<h3 id="wangvalidator" class="tsd-anchor-link">WangValidator<a href="#wangvalidator" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>A lightweight parser and syntax validator that validates Wang code without executing it. Perfect for IDE integrations, linting, and syntax checking.</p>
<pre><code class="typescript"><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-15">WangValidator</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">validate</span><span class="hl-1">(</span><span class="hl-6">code</span><span class="hl-1">: </span><span class="hl-15">string</span><span class="hl-1">, </span><span class="hl-6">options</span><span class="hl-1">?: </span><span class="hl-15">ParserOptions</span><span class="hl-1">): </span><span class="hl-15">ValidationResult</span><br/><span class="hl-1">  </span><span class="hl-0">checkSyntaxPatterns</span><span class="hl-1">(</span><span class="hl-6">code</span><span class="hl-1">: </span><span class="hl-15">string</span><span class="hl-1">): </span><span class="hl-15">SyntaxPatterns</span><br/><span class="hl-1">  </span><span class="hl-0">suggestFixes</span><span class="hl-1">(</span><span class="hl-6">code</span><span class="hl-1">: </span><span class="hl-15">string</span><span class="hl-1">): </span><span class="hl-15">string</span><span class="hl-1">[]</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">interface</span><span class="hl-1"> </span><span class="hl-15">ValidationResult</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">valid</span><span class="hl-1">: </span><span class="hl-15">boolean</span><br/><span class="hl-1">  </span><span class="hl-6">error</span><span class="hl-1">?: {</span><br/><span class="hl-1">    </span><span class="hl-6">message</span><span class="hl-1">: </span><span class="hl-15">string</span><br/><span class="hl-1">    </span><span class="hl-6">line</span><span class="hl-1">: </span><span class="hl-15">number</span><br/><span class="hl-1">    </span><span class="hl-6">column</span><span class="hl-1">: </span><span class="hl-15">number</span><br/><span class="hl-1">    </span><span class="hl-6">suggestion</span><span class="hl-1">?: </span><span class="hl-15">string</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-6">ast</span><span class="hl-1">?: </span><span class="hl-15">any</span><span class="hl-1">  </span><span class="hl-3">// Optional AST when includeAST: true</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">interface</span><span class="hl-1"> </span><span class="hl-15">ParserOptions</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">includeAST</span><span class="hl-1">?: </span><span class="hl-15">boolean</span><span class="hl-1">  </span><span class="hl-3">// Include the parsed AST in result</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h4 id="usage-examples" class="tsd-anchor-link">Usage Examples<a href="#usage-examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="javascript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">WangValidator</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;wang-lang&#39;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">validator</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-0">WangValidator</span><span class="hl-1">()</span><br/><br/><span class="hl-3">// Simple validation</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-6">validator</span><span class="hl-1">.</span><span class="hl-0">validate</span><span class="hl-1">(</span><span class="hl-2">`</span><br/><span class="hl-2">  let x = 10</span><br/><span class="hl-2">  double(log(x))</span><br/><span class="hl-2">`</span><span class="hl-1">)</span><br/><br/><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-6">result</span><span class="hl-1">.</span><span class="hl-6">valid</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Code is valid!&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">} </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">`Error at line </span><span class="hl-4">${</span><span class="hl-6">result</span><span class="hl-9">.</span><span class="hl-6">error</span><span class="hl-9">.</span><span class="hl-6">line</span><span class="hl-4">}</span><span class="hl-2">, col </span><span class="hl-4">${</span><span class="hl-6">result</span><span class="hl-9">.</span><span class="hl-6">error</span><span class="hl-9">.</span><span class="hl-6">column</span><span class="hl-4">}</span><span class="hl-2">:`</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-6">result</span><span class="hl-1">.</span><span class="hl-6">error</span><span class="hl-1">.</span><span class="hl-6">message</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-6">result</span><span class="hl-1">.</span><span class="hl-6">error</span><span class="hl-1">.</span><span class="hl-6">suggestion</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Suggestion:&quot;</span><span class="hl-1">, </span><span class="hl-6">result</span><span class="hl-1">.</span><span class="hl-6">error</span><span class="hl-1">.</span><span class="hl-6">suggestion</span><span class="hl-1">)</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Get AST for further analysis</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">resultWithAST</span><span class="hl-1"> = </span><span class="hl-6">validator</span><span class="hl-1">.</span><span class="hl-0">validate</span><span class="hl-1">(</span><span class="hl-6">code</span><span class="hl-1">, { </span><span class="hl-6">includeAST:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1"> })</span><br/><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-6">resultWithAST</span><span class="hl-1">.</span><span class="hl-6">valid</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;AST:&quot;</span><span class="hl-1">, </span><span class="hl-6">resultWithAST</span><span class="hl-1">.</span><span class="hl-6">ast</span><span class="hl-1">)</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Check for specific syntax patterns</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">patterns</span><span class="hl-1"> = </span><span class="hl-6">validator</span><span class="hl-1">.</span><span class="hl-0">checkSyntaxPatterns</span><span class="hl-1">(</span><span class="hl-6">code</span><span class="hl-1">)</span><br/><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Has method chains:&quot;</span><span class="hl-1">, </span><span class="hl-6">patterns</span><span class="hl-1">.</span><span class="hl-6">hasMethodChains</span><span class="hl-1">)</span><br/><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Has async/await:&quot;</span><span class="hl-1">, </span><span class="hl-6">patterns</span><span class="hl-1">.</span><span class="hl-6">hasAsyncAwait</span><span class="hl-1">)</span><br/><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Has classes:&quot;</span><span class="hl-1">, </span><span class="hl-6">patterns</span><span class="hl-1">.</span><span class="hl-6">hasClasses</span><span class="hl-1">)</span><br/><br/><span class="hl-3">// Get suggestions for common issues</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">suggestions</span><span class="hl-1"> = </span><span class="hl-6">validator</span><span class="hl-1">.</span><span class="hl-0">suggestFixes</span><span class="hl-1">(</span><span class="hl-6">code</span><span class="hl-1">)</span><br/><span class="hl-6">suggestions</span><span class="hl-1">.</span><span class="hl-0">forEach</span><span class="hl-1">(</span><span class="hl-6">suggestion</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;Tip:&quot;</span><span class="hl-1">, </span><span class="hl-6">suggestion</span><span class="hl-1">))</span>
</code><button type="button">Copy</button></pre>

<h4 id="error-messages-with-context" class="tsd-anchor-link">Error Messages with Context<a href="#error-messages-with-context" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The validator provides detailed error messages with visual context:</p>
<pre><code class="javascript"><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-7">result</span><span class="hl-1"> = </span><span class="hl-6">validator</span><span class="hl-1">.</span><span class="hl-0">validate</span><span class="hl-1">(</span><span class="hl-2">`</span><br/><span class="hl-2">  let x = 10</span><br/><span class="hl-2">  x.</span><br/><span class="hl-2">`</span><span class="hl-1">)</span><br/><br/><span class="hl-3">// Output:</span><br/><span class="hl-3">// Parse error: Syntax error at line 3 col 6:</span><br/><span class="hl-3">//</span><br/><span class="hl-3">// 1 </span><br/><span class="hl-3">// 2   let x = 10</span><br/><span class="hl-3">// 3   x.</span><br/><span class="hl-3">//     ^</span><br/><span class="hl-3">// Unexpected NL token. Instead, I was expecting to see one of the following:</span><br/><span class="hl-3">// </span><br/><span class="hl-3">// A function name token based on:</span><br/><span class="hl-3">//     MethodCall ‚Üí Object &quot;.&quot; ‚óè MethodName</span><br/><span class="hl-3">// ... and more</span>
</code><button type="button">Copy</button></pre>

<h4 id="common-error-detection" class="tsd-anchor-link">Common Error Detection<a href="#common-error-detection" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The validator automatically detects and suggests fixes for common issues:</p>
<ul>
<li><strong>Regex in HTML contexts</strong>: Suggests escaping forward slashes in patterns like <code>&lt;/a&gt;</code></li>
<li><strong>Multiline arrow functions</strong>: Detects missing braces in multiline arrow function bodies</li>
<li><strong>Missing operators</strong>: Identifies missing commas, semicolons, or operators between statements</li>
<li><strong>Method chaining issues</strong>: Ensures method calls are properly formatted</li>
</ul>
<h3 id="moduleresolver" class="tsd-anchor-link">ModuleResolver<a href="#moduleresolver" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Base class for implementing module resolution.</p>
<pre><code class="typescript"><span class="hl-4">abstract</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-15">ModuleResolver</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">abstract</span><span class="hl-1"> </span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-6">modulePath</span><span class="hl-1">: </span><span class="hl-15">string</span><span class="hl-1">, </span><span class="hl-6">fromPath</span><span class="hl-1">?: </span><span class="hl-15">string</span><span class="hl-1">): </span><span class="hl-15">Promise</span><span class="hl-1">&lt;</span><span class="hl-15">ModuleResolution</span><span class="hl-1">&gt;</span><br/><span class="hl-1">  </span><span class="hl-4">abstract</span><span class="hl-1"> </span><span class="hl-0">exists</span><span class="hl-1">(</span><span class="hl-6">modulePath</span><span class="hl-1">: </span><span class="hl-15">string</span><span class="hl-1">, </span><span class="hl-6">fromPath</span><span class="hl-1">?: </span><span class="hl-15">string</span><span class="hl-1">): </span><span class="hl-15">Promise</span><span class="hl-1">&lt;</span><span class="hl-15">boolean</span><span class="hl-1">&gt;</span><br/><span class="hl-1">  </span><span class="hl-4">abstract</span><span class="hl-1"> </span><span class="hl-0">list</span><span class="hl-1">(</span><span class="hl-6">prefix</span><span class="hl-1">?: </span><span class="hl-15">string</span><span class="hl-1">): </span><span class="hl-15">Promise</span><span class="hl-1">&lt;</span><span class="hl-15">string</span><span class="hl-1">[]&gt;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="standard-library-reference" class="tsd-anchor-link">Standard Library Reference<a href="#standard-library-reference" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Wang's standard library provides 70+ functions organized into logical categories. All functions are <strong>immutable</strong> and designed for <strong>functional programming</strong>:</p>
<h3 id="array-operations" class="tsd-anchor-link">Array Operations<a href="#array-operations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-3">// Core operations</span><br/><span class="hl-0">filter</span><span class="hl-1">(</span><span class="hl-6">arr</span><span class="hl-1">, </span><span class="hl-6">predicate</span><span class="hl-1">)           </span><span class="hl-3">// Filter elements</span><br/><span class="hl-0">map</span><span class="hl-1">(</span><span class="hl-6">arr</span><span class="hl-1">, </span><span class="hl-6">mapper</span><span class="hl-1">)                 </span><span class="hl-3">// Transform elements  </span><br/><span class="hl-0">reduce</span><span class="hl-1">(</span><span class="hl-6">arr</span><span class="hl-1">, </span><span class="hl-6">reducer</span><span class="hl-1">, </span><span class="hl-6">initial</span><span class="hl-1">)    </span><span class="hl-3">// Reduce to single value</span><br/><span class="hl-0">forEach</span><span class="hl-1">(</span><span class="hl-6">arr</span><span class="hl-1">, </span><span class="hl-6">fn</span><span class="hl-1">)                 </span><span class="hl-3">// Iterate (side effects)</span><br/><span class="hl-0">find</span><span class="hl-1">(</span><span class="hl-6">arr</span><span class="hl-1">, </span><span class="hl-6">predicate</span><span class="hl-1">)             </span><span class="hl-3">// Find first match</span><br/><span class="hl-0">some</span><span class="hl-1">(</span><span class="hl-6">arr</span><span class="hl-1">, </span><span class="hl-6">predicate</span><span class="hl-1">)             </span><span class="hl-3">// Test if any match</span><br/><span class="hl-0">every</span><span class="hl-1">(</span><span class="hl-6">arr</span><span class="hl-1">, </span><span class="hl-6">predicate</span><span class="hl-1">)            </span><span class="hl-3">// Test if all match</span><br/><br/><span class="hl-3">// Sorting and ordering</span><br/><span class="hl-0">sort</span><span class="hl-1">(</span><span class="hl-6">arr</span><span class="hl-1">, </span><span class="hl-6">compareFn</span><span class="hl-1">?)            </span><span class="hl-3">// Sort array</span><br/><span class="hl-0">sort_by</span><span class="hl-1">(</span><span class="hl-6">arr</span><span class="hl-1">, </span><span class="hl-6">property</span><span class="hl-1">)           </span><span class="hl-3">// Sort by property</span><br/><span class="hl-0">reverse</span><span class="hl-1">(</span><span class="hl-6">arr</span><span class="hl-1">)                     </span><span class="hl-3">// Reverse order</span><br/><br/><span class="hl-3">// Array manipulation</span><br/><span class="hl-0">slice</span><span class="hl-1">(</span><span class="hl-6">arr</span><span class="hl-1">, </span><span class="hl-6">start</span><span class="hl-1">, </span><span class="hl-6">end</span><span class="hl-1">)           </span><span class="hl-3">// Extract portion</span><br/><span class="hl-0">concat</span><span class="hl-1">(...</span><span class="hl-6">arrays</span><span class="hl-1">)               </span><span class="hl-3">// Combine arrays</span><br/><span class="hl-0">flatten</span><span class="hl-1">(</span><span class="hl-6">arr</span><span class="hl-1">, </span><span class="hl-6">depth</span><span class="hl-1">?)            </span><span class="hl-3">// Flatten nested arrays</span><br/><span class="hl-0">chunk</span><span class="hl-1">(</span><span class="hl-6">arr</span><span class="hl-1">, </span><span class="hl-6">size</span><span class="hl-1">)                </span><span class="hl-3">// Split into chunks</span><br/><span class="hl-0">zip</span><span class="hl-1">(...</span><span class="hl-6">arrays</span><span class="hl-1">)                  </span><span class="hl-3">// Combine arrays element-wise</span><br/><span class="hl-0">partition</span><span class="hl-1">(</span><span class="hl-6">arr</span><span class="hl-1">, </span><span class="hl-6">predicate</span><span class="hl-1">)       </span><span class="hl-3">// Split based on condition</span><br/><br/><span class="hl-3">// Unique and grouping</span><br/><span class="hl-0">unique</span><span class="hl-1">(</span><span class="hl-6">arr</span><span class="hl-1">)                     </span><span class="hl-3">// Remove duplicates</span><br/><span class="hl-0">unique_by</span><span class="hl-1">(</span><span class="hl-6">arr</span><span class="hl-1">, </span><span class="hl-6">property</span><span class="hl-1">)        </span><span class="hl-3">// Remove duplicates by property</span><br/><span class="hl-0">group_by</span><span class="hl-1">(</span><span class="hl-6">arr</span><span class="hl-1">, </span><span class="hl-6">property</span><span class="hl-1">)         </span><span class="hl-3">// Group by property</span><br/><br/><span class="hl-3">// Utilities</span><br/><span class="hl-0">compact</span><span class="hl-1">(</span><span class="hl-6">arr</span><span class="hl-1">)                    </span><span class="hl-3">// Remove falsy values</span><br/><span class="hl-0">at</span><span class="hl-1">(</span><span class="hl-6">arr</span><span class="hl-1">, </span><span class="hl-6">index</span><span class="hl-1">)                  </span><span class="hl-3">// Safe array access</span><br/><span class="hl-0">join</span><span class="hl-1">(</span><span class="hl-6">arr</span><span class="hl-1">, </span><span class="hl-6">separator</span><span class="hl-1">)            </span><span class="hl-3">// Join to string</span><br/><span class="hl-0">includes</span><span class="hl-1">(</span><span class="hl-6">arr</span><span class="hl-1">, </span><span class="hl-6">item</span><span class="hl-1">)             </span><span class="hl-3">// Check inclusion</span><br/><span class="hl-0">indexOf</span><span class="hl-1">(</span><span class="hl-6">arr</span><span class="hl-1">, </span><span class="hl-6">item</span><span class="hl-1">)              </span><span class="hl-3">// Find index</span>
</code><button type="button">Copy</button></pre>

<h3 id="object-operations" class="tsd-anchor-link">Object Operations<a href="#object-operations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-3">// Property manipulation</span><br/><span class="hl-0">pick</span><span class="hl-1">(</span><span class="hl-6">obj</span><span class="hl-1">, </span><span class="hl-6">keys</span><span class="hl-1">)                 </span><span class="hl-3">// Select specific properties</span><br/><span class="hl-0">omit</span><span class="hl-1">(</span><span class="hl-6">obj</span><span class="hl-1">, </span><span class="hl-6">keys</span><span class="hl-1">)                 </span><span class="hl-3">// Remove specific properties  </span><br/><span class="hl-0">merge</span><span class="hl-1">(...</span><span class="hl-6">objects</span><span class="hl-1">)               </span><span class="hl-3">// Deep merge objects</span><br/><span class="hl-0">clone</span><span class="hl-1">(</span><span class="hl-6">obj</span><span class="hl-1">)                      </span><span class="hl-3">// Deep clone object</span><br/><br/><span class="hl-3">// Property access</span><br/><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-6">obj</span><span class="hl-1">, </span><span class="hl-6">path</span><span class="hl-1">)                  </span><span class="hl-3">// Safe nested access: get(obj, &quot;a.b.c&quot;)</span><br/><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-6">obj</span><span class="hl-1">, </span><span class="hl-6">path</span><span class="hl-1">, </span><span class="hl-6">value</span><span class="hl-1">)           </span><span class="hl-3">// Set nested property</span><br/><span class="hl-0">has</span><span class="hl-1">(</span><span class="hl-6">obj</span><span class="hl-1">, </span><span class="hl-6">path</span><span class="hl-1">)                  </span><span class="hl-3">// Check if property exists</span><br/><br/><span class="hl-3">// Object inspection</span><br/><span class="hl-0">keys</span><span class="hl-1">(</span><span class="hl-6">obj</span><span class="hl-1">)                       </span><span class="hl-3">// Get object keys</span><br/><span class="hl-0">values</span><span class="hl-1">(</span><span class="hl-6">obj</span><span class="hl-1">)                     </span><span class="hl-3">// Get object values</span><br/><span class="hl-0">entries</span><span class="hl-1">(</span><span class="hl-6">obj</span><span class="hl-1">)                    </span><span class="hl-3">// Get [key, value] pairs</span>
</code><button type="button">Copy</button></pre>

<h3 id="string-operations" class="tsd-anchor-link">String Operations<a href="#string-operations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-3">// Case transformation</span><br/><span class="hl-0">upper</span><span class="hl-1">(</span><span class="hl-6">str</span><span class="hl-1">)                      </span><span class="hl-3">// Convert to uppercase</span><br/><span class="hl-0">lower</span><span class="hl-1">(</span><span class="hl-6">str</span><span class="hl-1">)                      </span><span class="hl-3">// Convert to lowercase  </span><br/><span class="hl-0">capitalize</span><span class="hl-1">(</span><span class="hl-6">str</span><span class="hl-1">)                 </span><span class="hl-3">// Capitalize first letter</span><br/><br/><span class="hl-3">// String manipulation</span><br/><span class="hl-0">trim</span><span class="hl-1">(</span><span class="hl-6">str</span><span class="hl-1">)                       </span><span class="hl-3">// Remove whitespace</span><br/><span class="hl-0">split</span><span class="hl-1">(</span><span class="hl-6">str</span><span class="hl-1">, </span><span class="hl-6">separator</span><span class="hl-1">)           </span><span class="hl-3">// Split to array</span><br/><span class="hl-0">join</span><span class="hl-1">(</span><span class="hl-6">arr</span><span class="hl-1">, </span><span class="hl-6">separator</span><span class="hl-1">)            </span><span class="hl-3">// Join array to string</span><br/><span class="hl-0">replace_all</span><span class="hl-1">(</span><span class="hl-6">str</span><span class="hl-1">, </span><span class="hl-6">search</span><span class="hl-1">, </span><span class="hl-6">replace</span><span class="hl-1">) </span><span class="hl-3">// Replace all occurrences</span><br/><br/><span class="hl-3">// String testing</span><br/><span class="hl-0">starts_with</span><span class="hl-1">(</span><span class="hl-6">str</span><span class="hl-1">, </span><span class="hl-6">prefix</span><span class="hl-1">)        </span><span class="hl-3">// Check prefix</span><br/><span class="hl-0">ends_with</span><span class="hl-1">(</span><span class="hl-6">str</span><span class="hl-1">, </span><span class="hl-6">suffix</span><span class="hl-1">)          </span><span class="hl-3">// Check suffix</span><br/><span class="hl-0">truncate</span><span class="hl-1">(</span><span class="hl-6">str</span><span class="hl-1">, </span><span class="hl-6">length</span><span class="hl-1">)           </span><span class="hl-3">// Truncate with ellipsis</span>
</code><button type="button">Copy</button></pre>

<h3 id="math-operations" class="tsd-anchor-link">Math Operations<a href="#math-operations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-3">// Basic math</span><br/><span class="hl-0">sum</span><span class="hl-1">(</span><span class="hl-6">numbers</span><span class="hl-1">)                    </span><span class="hl-3">// Sum all numbers</span><br/><span class="hl-0">avg</span><span class="hl-1">(</span><span class="hl-6">numbers</span><span class="hl-1">)                    </span><span class="hl-3">// Average</span><br/><span class="hl-0">median</span><span class="hl-1">(</span><span class="hl-6">numbers</span><span class="hl-1">)                 </span><span class="hl-3">// Median value</span><br/><span class="hl-0">min</span><span class="hl-1">(...</span><span class="hl-6">nums</span><span class="hl-1">)                    </span><span class="hl-3">// Minimum</span><br/><span class="hl-0">max</span><span class="hl-1">(...</span><span class="hl-6">nums</span><span class="hl-1">)                    </span><span class="hl-3">// Maximum</span><br/><br/><span class="hl-3">// Advanced math</span><br/><span class="hl-0">clamp</span><span class="hl-1">(</span><span class="hl-6">value</span><span class="hl-1">, </span><span class="hl-6">min</span><span class="hl-1">, </span><span class="hl-6">max</span><span class="hl-1">)          </span><span class="hl-3">// Constrain value to range</span><br/><span class="hl-0">random_int</span><span class="hl-1">(</span><span class="hl-6">min</span><span class="hl-1">, </span><span class="hl-6">max</span><span class="hl-1">)            </span><span class="hl-3">// Random integer in range</span><br/><span class="hl-0">abs</span><span class="hl-1">(</span><span class="hl-6">n</span><span class="hl-1">), </span><span class="hl-0">ceil</span><span class="hl-1">(</span><span class="hl-6">n</span><span class="hl-1">), </span><span class="hl-0">floor</span><span class="hl-1">(</span><span class="hl-6">n</span><span class="hl-1">), </span><span class="hl-0">round</span><span class="hl-1">(</span><span class="hl-6">n</span><span class="hl-1">) </span><span class="hl-3">// Standard math functions</span><br/><span class="hl-0">pow</span><span class="hl-1">(</span><span class="hl-6">base</span><span class="hl-1">, </span><span class="hl-6">exp</span><span class="hl-1">), </span><span class="hl-0">sqrt</span><span class="hl-1">(</span><span class="hl-6">n</span><span class="hl-1">)         </span><span class="hl-3">// Power and square root</span>
</code><button type="button">Copy</button></pre>

<h3 id="type-checking" class="tsd-anchor-link">Type Checking<a href="#type-checking" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-0">is_array</span><span class="hl-1">(</span><span class="hl-6">val</span><span class="hl-1">)                   </span><span class="hl-3">// Check if array</span><br/><span class="hl-0">is_object</span><span class="hl-1">(</span><span class="hl-6">val</span><span class="hl-1">)                  </span><span class="hl-3">// Check if object (not array/null)</span><br/><span class="hl-0">is_string</span><span class="hl-1">(</span><span class="hl-6">val</span><span class="hl-1">)                  </span><span class="hl-3">// Check if string</span><br/><span class="hl-0">is_number</span><span class="hl-1">(</span><span class="hl-6">val</span><span class="hl-1">)                  </span><span class="hl-3">// Check if number</span><br/><span class="hl-0">is_boolean</span><span class="hl-1">(</span><span class="hl-6">val</span><span class="hl-1">)                 </span><span class="hl-3">// Check if boolean</span><br/><span class="hl-0">is_null</span><span class="hl-1">(</span><span class="hl-6">val</span><span class="hl-1">)                    </span><span class="hl-3">// Check if null</span><br/><span class="hl-0">is_empty</span><span class="hl-1">(</span><span class="hl-6">val</span><span class="hl-1">)                   </span><span class="hl-3">// Check if empty (array/object/string)</span>
</code><button type="button">Copy</button></pre>

<h3 id="functional-utilities" class="tsd-anchor-link">Functional Utilities<a href="#functional-utilities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-0">count</span><span class="hl-1">(</span><span class="hl-6">arr</span><span class="hl-1">, </span><span class="hl-6">predicate</span><span class="hl-1">?)          </span><span class="hl-3">// Count elements (optionally matching predicate)</span><br/><span class="hl-0">find_index</span><span class="hl-1">(</span><span class="hl-6">arr</span><span class="hl-1">, </span><span class="hl-6">predicate</span><span class="hl-1">)      </span><span class="hl-3">// Find index of first match</span><br/><span class="hl-0">range</span><span class="hl-1">(</span><span class="hl-6">n</span><span class="hl-1">)                        </span><span class="hl-3">// Generate array [0, 1, ..., n-1]</span><br/><span class="hl-0">uuid</span><span class="hl-1">()                          </span><span class="hl-3">// Generate UUID v4</span><br/><span class="hl-0">sleep</span><span class="hl-1">(</span><span class="hl-6">ms</span><span class="hl-1">)                       </span><span class="hl-3">// Async sleep (returns Promise)</span>
</code><button type="button">Copy</button></pre>

<h3 id="data-conversion" class="tsd-anchor-link">Data Conversion<a href="#data-conversion" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-0">to_json</span><span class="hl-1">(</span><span class="hl-6">obj</span><span class="hl-1">)                    </span><span class="hl-3">// Convert to JSON string</span><br/><span class="hl-0">from_json</span><span class="hl-1">(</span><span class="hl-6">str</span><span class="hl-1">)                  </span><span class="hl-3">// Parse JSON string</span><br/><span class="hl-0">encode_base64</span><span class="hl-1">(</span><span class="hl-6">str</span><span class="hl-1">)              </span><span class="hl-3">// Base64 encode</span><br/><span class="hl-0">decode_base64</span><span class="hl-1">(</span><span class="hl-6">str</span><span class="hl-1">)              </span><span class="hl-3">// Base64 decode</span>
</code><button type="button">Copy</button></pre>

<h3 id="console-functions" class="tsd-anchor-link">Console Functions<a href="#console-functions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-0">log</span><span class="hl-1">(...</span><span class="hl-6">args</span><span class="hl-1">)                    </span><span class="hl-3">// Console log</span><br/><span class="hl-0">error</span><span class="hl-1">(...</span><span class="hl-6">args</span><span class="hl-1">)                  </span><span class="hl-3">// Console error</span><br/><span class="hl-0">warn</span><span class="hl-1">(...</span><span class="hl-6">args</span><span class="hl-1">)                   </span><span class="hl-3">// Console warn</span>
</code><button type="button">Copy</button></pre>

<p>All functions follow <strong>snake_case</strong> naming and are <strong>immutable</strong> - they return new values without modifying inputs.</p>
<h2 id="implementation-status" class="tsd-anchor-link">Implementation Status<a href="#implementation-status" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="‚úÖ-fully-implemented" class="tsd-anchor-link">‚úÖ Fully Implemented<a href="#‚úÖ-fully-implemented" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><strong>Classes</strong>: Constructors, methods, inheritance with <code>extends</code> and <code>super()</code>, static methods, getters/setters</li>
<li><strong>Method Chaining</strong>: Cross-line method chaining with proper continuation</li>
<li><strong>Variable Declarations</strong>: <code>let</code>, <code>const</code>, <code>var</code> with proper hoisting and block scoping</li>
<li><strong>Functions</strong>: Regular functions, arrow functions, async/await, closures, recursion, default parameters</li>
<li><strong>Control Flow</strong>: <code>if/else</code>, loops (<code>for</code>, <code>while</code>, <code>do-while</code>, <code>for...of</code>, <code>for...in</code>), <code>switch</code> statements, <code>try/catch/finally</code></li>
<li><strong>Operators</strong>:
<ul>
<li>Arithmetic (<code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%</code>, <code>**</code>)</li>
<li>Comparison (<code>==</code>, <code>!=</code>, <code>===</code>, <code>!==</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code>)</li>
<li>Logical (<code>&amp;&amp;</code>, <code>||</code>, <code>!</code>)</li>
<li>Increment/Decrement (<code>++</code>, <code>--</code>) with prefix/postfix support</li>
<li>Compound Assignment (<code>+=</code>, <code>-=</code>, <code>*=</code>, <code>/=</code>)</li>
<li>Ternary Conditional (<code>? :</code>) with nested support</li>
<li>Optional Chaining (<code>?.</code>) with computed member access (<code>?.[expression]</code>) and Nullish Coalescing (<code>??</code>)</li>
</ul>
</li>
<li><strong>Data Types</strong>: Arrays, objects, destructuring, template literals, spread/rest operators</li>
<li><strong>Module System</strong>: Named imports/exports with ES6 syntax</li>
<li><strong>Error Handling</strong>: Comprehensive try/catch/finally with proper error propagation</li>
<li><strong>Regular Expressions</strong>: Full regex literal support (<code>/pattern/flags</code>) with all JavaScript flags and methods</li>
<li><strong>Advanced Features</strong>: Method chaining, labeled statements, <code>new</code> operator, proper <code>this</code> binding</li>
<li><strong>Standard Library</strong>: 70+ built-in functions for arrays, objects, strings, math, and utilities</li>
</ul>
<h3 id="üöß-partially-implemented" class="tsd-anchor-link">üöß Partially Implemented<a href="#üöß-partially-implemented" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Destructuring (works in most contexts except function parameters)</li>
<li>Arrow function <code>this</code> preservation in closures (works in methods but not fully in nested closures)</li>
</ul>
<h3 id="‚ùå-not-yet-implemented" class="tsd-anchor-link">‚ùå Not Yet Implemented<a href="#‚ùå-not-yet-implemented" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Private fields (#field syntax)</li>
<li>Async generators</li>
<li>Default exports/imports</li>
<li>Namespace imports (import * as)</li>
<li>Re-exports</li>
<li>Tagged template literals</li>
<li>Destructuring in function parameters</li>
<li>Spread syntax in expressions (e.g., <code>...array</code> in function calls)</li>
</ul>
<h2 id="license" class="tsd-anchor-link">License<a href="#license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>MIT ¬© 2024</p>
<h2 id="contributing" class="tsd-anchor-link">Contributing<a href="#contributing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Contributions are welcome! Please ensure:</p>
<ul>
<li>All tests pass (<code>npm test</code>)</li>
<li>Grammar remains deterministic (zero ambiguity)</li>
<li>Code is CSP-safe (no eval/new Function)</li>
<li>TypeScript types are updated</li>
</ul>
<h2 id="links" class="tsd-anchor-link">Links<a href="#links" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="https://github.com/artpar/wang">GitHub Repository</a></li>
<li><a href="https://www.npmjs.com/package/@wang-lang/core">npm Package</a></li>
<li><a href="https://github.com/artpar/wang/issues">Issue Tracker</a></li>
</ul>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#wang-lang"><span>wang-<wbr/>lang</span></a><ul><li><a href="#features"><span>Features</span></a></li><li><a href="#installation"><span>Installation</span></a></li><li><a href="#cli-usage"><span>CLI <wbr/>Usage</span></a></li><li><ul><li><a href="#execute-wang-files"><span>Execute <wbr/>Wang <wbr/>Files</span></a></li><li><a href="#validate-wang-syntax"><span>Validate <wbr/>Wang <wbr/>Syntax</span></a></li><li><a href="#example-wang-file"><span>Example .wang <wbr/>File</span></a></li></ul></li><li><a href="#quick-start"><span>Quick <wbr/>Start</span></a></li><li><a href="#language-features"><span>Language <wbr/>Features</span></a></li><li><ul><li><a href="#standard-library-70-functions"><span>Standard <wbr/>Library (70+ <wbr/>Functions)</span></a></li><li><a href="#modern-javascript-syntax"><span>Modern <wbr/>Java<wbr/>Script <wbr/>Syntax</span></a></li><li><a href="#classes"><span>Classes</span></a></li><li><a href="#return-values"><span>Return <wbr/>Values</span></a></li><li><a href="#method-chaining-and-functional-programming"><span>Method <wbr/>Chaining and <wbr/>Functional <wbr/>Programming</span></a></li><li><a href="#modules"><span>Modules</span></a></li></ul></li><li><a href="#module-resolution"><span>Module <wbr/>Resolution</span></a></li><li><ul><li><a href="#built-in-resolvers"><span>Built-<wbr/>in <wbr/>Resolvers</span></a></li></ul></li><li><a href="#browser-automation-example"><span>Browser <wbr/>Automation <wbr/>Example</span></a></li><li><a href="#syntax-highlighting"><span>Syntax <wbr/>Highlighting</span></a></li><li><ul><li><a href="#monaco-editor-web"><span>Monaco <wbr/>Editor (<wbr/>Web)</span></a></li><li><a href="#vs-code-extension"><span>VS <wbr/>Code <wbr/>Extension</span></a></li><li><a href="#codemirror"><span>Code<wbr/>Mirror</span></a></li></ul></li><li><a href="#pausable-execution-state-serialization"><span>Pausable <wbr/>Execution &amp; <wbr/>State <wbr/>Serialization</span></a></li><li><ul><li><a href="#pause-and-resume-execution"><span>Pause and <wbr/>Resume <wbr/>Execution</span></a></li><li><a href="#state-serialization"><span>State <wbr/>Serialization</span></a></li><li><a href="#execution-state-api"><span>Execution <wbr/>State <wbr/>API</span></a></li></ul></li><li><a href="#metadata-api"><span>Metadata <wbr/>API</span></a></li><li><ul><li><a href="#metadata-categories"><span>Metadata <wbr/>Categories</span></a></li></ul></li><li><a href="#language-support"><span>Language <wbr/>Support</span></a></li><li><ul><li><a href="#‚úÖ-fully-supported-features"><span>‚úÖ <wbr/>Fully <wbr/>Supported <wbr/>Features</span></a></li><li><a href="#‚ö†Ô∏è-intentionally-unsupported-features"><span>‚ö†Ô∏è <wbr/>Intentionally <wbr/>Unsupported <wbr/>Features</span></a></li></ul></li><li><a href="#testing"><span>Testing</span></a></li><li><a href="#development"><span>Development</span></a></li><li><a href="#project-structure"><span>Project <wbr/>Structure</span></a></li><li><a href="#grammar-highlights"><span>Grammar <wbr/>Highlights</span></a></li><li><a href="#csp-safety"><span>CSP <wbr/>Safety</span></a></li><li><a href="#browser-compatibility"><span>Browser <wbr/>Compatibility</span></a></li><li><a href="#performance"><span>Performance</span></a></li><li><a href="#api-documentation"><span>API <wbr/>Documentation</span></a></li><li><ul><li><a href="#wanginterpreter"><span>Wang<wbr/>Interpreter</span></a></li><li><ul><li><a href="#console-capture-v0120"><span>Console <wbr/>Capture (v0.12.0+)</span></a></li><li><a href="#setting-variables"><span>Setting <wbr/>Variables</span></a></li></ul></li><li><a href="#wangvalidator"><span>Wang<wbr/>Validator</span></a></li><li><ul><li><a href="#usage-examples"><span>Usage <wbr/>Examples</span></a></li><li><a href="#error-messages-with-context"><span>Error <wbr/>Messages with <wbr/>Context</span></a></li><li><a href="#common-error-detection"><span>Common <wbr/>Error <wbr/>Detection</span></a></li></ul></li><li><a href="#moduleresolver"><span>Module<wbr/>Resolver</span></a></li></ul></li><li><a href="#standard-library-reference"><span>Standard <wbr/>Library <wbr/>Reference</span></a></li><li><ul><li><a href="#array-operations"><span>Array <wbr/>Operations</span></a></li><li><a href="#object-operations"><span>Object <wbr/>Operations</span></a></li><li><a href="#string-operations"><span>String <wbr/>Operations</span></a></li><li><a href="#math-operations"><span>Math <wbr/>Operations</span></a></li><li><a href="#type-checking"><span>Type <wbr/>Checking</span></a></li><li><a href="#functional-utilities"><span>Functional <wbr/>Utilities</span></a></li><li><a href="#data-conversion"><span>Data <wbr/>Conversion</span></a></li><li><a href="#console-functions"><span>Console <wbr/>Functions</span></a></li></ul></li><li><a href="#implementation-status"><span>Implementation <wbr/>Status</span></a></li><li><ul><li><a href="#‚úÖ-fully-implemented"><span>‚úÖ <wbr/>Fully <wbr/>Implemented</span></a></li><li><a href="#üöß-partially-implemented"><span>üöß <wbr/>Partially <wbr/>Implemented</span></a></li><li><a href="#‚ùå-not-yet-implemented"><span>‚ùå <wbr/>Not <wbr/>Yet <wbr/>Implemented</span></a></li></ul></li><li><a href="#license"><span>License</span></a></li><li><a href="#contributing"><span>Contributing</span></a></li><li><a href="#links"><span>Links</span></a></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://github.com/artpar/wang" class="tsd-nav-link">GitHub</a><a href="https://www.npmjs.com/package/wang-lang" class="tsd-nav-link">NPM</a><a href="https://artpar.github.io/wang/playground.html" class="tsd-nav-link">üéÆ Playground</a></nav><nav class="tsd-navigation"><a href="modules.html">Wang Language - v0.24.1</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
